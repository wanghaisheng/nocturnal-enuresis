{"version":3,"sources":["components/Navbar/data.js","assets/logo.png","context/actions/globalActions.js","context/actions/authActions.js","context/actions/dataActions.js","context/reducers/globalReducer.js","context/providers/GlobalProvider.js","context/helper.js","context/reducers/authReducer.js","context/providers/AuthProvider.js","services/config.js","services/likes.js","services/watchlater.js","context/reducers/dataReducer.js","services/history.js","context/providers/DataProvider.js","hooks/useChangeColor.js","components/Navbar/Navbar.jsx","utils/getNavRoute.js","components/Footer/Footer.jsx","components/InputField/InputField.jsx","utils/imageGenerator.js","hooks/useClickOutside.js","components/Cards/VideoCard/VideoCard.jsx","services/playlists.js","components/Cards/HorizontalCard/HorizontalCard.jsx","components/Alert/Alert.jsx","components/Loader/Loader.jsx","components/Filter/SearchFilter.jsx","components/Modal/Modal.jsx","components/PlaylistModal/PlaylistInput.jsx","components/PlaylistModal/Playlist.jsx","components/PlaylistModal/PlayListModal.jsx","routes/PreventedRoutes.jsx","routes/ProtectedRoutes.jsx","assets/logo1.png","pages/Auth/helper.js","services/authentication.js","pages/Auth/Signin.jsx","pages/Auth/Signup.jsx","pages/Home/Home.jsx","services/videos.js","pages/VideoPage/VideoPage.jsx","assets/error.png","assets/no-video.png","assets/pageNotFound.png","pages/EmptyState/EmptyState.jsx","pages/VideoListing/VideoListing.jsx","pages/Liked/Liked.jsx","pages/History/History.jsx","pages/WatchLater/WatchLater.jsx","pages/PlayLists/Playlists.jsx","routes/AllRoutes.jsx","App.jsx","backend/utils/authUtils.js","backend/controllers/AuthController.js","backend/controllers/HistoryController.js","backend/controllers/VideoController.js","backend/db/videos.js","backend/db/categories.js","backend/controllers/CategoryController.js","backend/controllers/LikeController.js","backend/controllers/PlaylistController.js","backend/db/users.js","backend/controllers/WatchLaterController.js","server.js","index.js"],"names":["navData","id","name","path","icon","authNavigation","globalActions","authActions","LOADING","LOAD_USER","LOGOUT","videoConstants","likeConstants","watchLaterConstants","historyConstants","playlistConstants","globalReducer","state","action","type","payload","alert","show","message","globalContext","createContext","initialState","GlobalProvider","children","useReducer","dispatch","Provider","value","globalState","globalHandlers","openAlert","closeAlert","useGlobalContext","useContext","getSearchResults","data","searchQuery","vid","filterOptions","filter","video","title","toLowerCase","includes","filterByCategory","category","categoryName","addedorRemovedVideo","playlists","newPlaylist","index","findIndex","item","_id","slice","authReducer","loading","token","window","localStorage","setItem","tokenName","user","details","LOAD_USER_PROFILE","removeItem","authContext","getItem","AuthProvider","authState","authDispatch","useAuthContext","getConfig","encodedToken","headers","authorization","loadLikedVideos","a","config","axios","get","process","REACT_APP_URL","response","status","likes","addToLiked","post","errors","removeFromLiked","delete","loadwatchLaterVideos","watchlater","addToWatchLater","removeFromWatchLater","userReducer","error","items","single_video","liked","watchLater","history","playlist","playlistModal","loadHistoryVideos","addToHistory","removeFromHistory","clearHistory","dataContext","single_playlist","DataProvider","dataReducer","filteredVideos","fns","reduce","acc","curr","compose","useEffect","length","dataState","dataDispatch","handlers","openPModal","closePModal","useDataContext","useChangeColor","handler","changeColor","scrollY","addEventListener","removeEventListener","Navbar","useState","darkNav","setDarkNav","setShow","pathName","showPathName","useLocation","pathname","split","getNavRoute","className","onClick","val","to","src","logo","alt","setTimeout","map","isActive","Footer","href","target","rel","InputField","label","errorMessage","other","showPass","setShowPass","placeholder","videoImage","videoId","useClickOutside","node","useRef","handleClick","e","current","contains","VideoCard","creatorImg","creator","open","setOpen","domNode","likedVideos","watchLaterVideos","inLikedVideos","some","inWatchLater","ref","createPlaylist","addToPlaylist","Object","keys","removeFromPlaylist","deletePlaylist","HorizontalCard","playlistId","Alert","alertTypeClass","Loader","Array","fill","SearchFilter","categories","onChange","defaultValue","Modal","onClose","reactDom","createPortal","stopPropagation","document","getElementById","PlaylistInput","setTitle","onSubmit","preventDefault","required","Playlist","isVideoInPlaylist","videos","checked","handleAddRemove","htmlFor","PlayListModal","PreventedRoutes","location","from","replace","ProtectedRoutes","testCredentials","email","password","initialFormValues","fullName","confirmPassword","loginUser","foundUser","registerUser","createdUser","Signin","userData","setUserData","handleChange","sketchLogo","handleAuth","autoFocus","Signup","setErrors","err","values","test","trim","validateInputs","Home","loadVideos","loadSingleVideo","getCategories","setCategories","console","log","Video","useParams","navigate","useNavigate","readMore","setReadMore","historyVideos","inHistory","msg","description","width","height","controls","playing","url","onStart","substr","EmptyState","imgSrc","buttonText","image","errorImage","emptyImage","notFoundImage","VideoListing","Liked","History","WatchLater","Playlists","setplaylistId","displayPlaylist","handleDelete","AllRoutes","element","VideoPage","App","requiresAuth","request","requestHeaders","decodedToken","jwt_decode","REACT_APP_JWT_SECRET","this","db","users","findBy","Response","formatDate","dayjs","format","sign","require","signupHandler","schema","JSON","parse","requestBody","rest","uuid","newUser","createdAt","updatedAt","create","loginHandler","undefined","getHistoryVideosHandler","call","addVideoToHistoryHandler","push","removeVideoFromHistoryHandler","params","filteredHistory","update","clearHistoryHandler","getAllVideosHandler","getVideoHandler","attrs","stats","viewCount","getAllCategoriesHandler","getCategoryHandler","categoryId","getLikedVideosHandler","addItemToLikedVideos","removeItemFromLikedVideos","filteredLikes","getAllPlaylistsHandler","addNewPlaylistHandler","removePlaylistHandler","filteredPlaylists","getVideosFromPlaylistHandler","find","addVideoToPlaylistHandler","removeVideoFromPlaylistHandler","getWatchLaterVideosHandler","addItemToWatchLaterVideos","removeItemFromWatchLaterVideos","environment","Server","serializers","application","RestSerializer","models","Model","like","seeds","server","logging","forEach","routes","namespace","bind","makeServer","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.64306d1d.chunk.js","sourcesContent":["import { SiHomeadvisor, SiAirplayvideo } from \"react-icons/si\";\nimport { BsPlayBtnFill } from \"react-icons/bs\";\nimport { AiFillLike, AiOutlineLogin } from \"react-icons/ai\";\nimport { MdWatchLater } from \"react-icons/md\";\nimport { BiHistory } from \"react-icons/bi\";\nimport { FaUserPlus } from \"react-icons/fa\";\n\nexport const navData = [\n  { id: \"n1\", name: \"Home\", path: \"/\", icon: <SiHomeadvisor /> },\n  { id: \"n2\", name: \"Explore\", path: \"/explore\", icon: <SiAirplayvideo /> },\n  { id: \"n3\", name: \"Liked\", path: \"/liked\", icon: <AiFillLike /> },\n  {\n    id: \"n4\",\n    name: \"Watch Later\",\n    path: \"/watchlater\",\n    icon: <MdWatchLater />,\n  },\n  { id: \"n5\", name: \"Playlists\", path: \"/playlists\", icon: <BsPlayBtnFill /> },\n  { id: \"n6\", name: \"History\", path: \"/history\", icon: <BiHistory /> },\n];\n\nexport const authNavigation = [\n  { id: \"n7\", name: \"Sign In\", path: \"/signin\", icon: <AiOutlineLogin /> },\n  { id: \"n8\", name: \"Sign Up\", path: \"/signup\", icon: <FaUserPlus /> },\n];","export default __webpack_public_path__ + \"static/media/logo.8ca7118e.png\";","export const globalActions = {\n  OPEN_ALERT: \"OPEN_ALERT\",\n  CLOSE_ALERT: \"CLOSE_ALERT\",\n};\n","export const authActions = {\n  LOADING: \"LOADING_USER\",\n  LOAD_USER: \"LOAD_USER\",\n  LOGOUT: \"LOGOUT\",\n};\n","export const videoConstants = {\n  LOADING: \"VIDEO_LOADING\",\n  GET_VIDEOS: \"GET_VIDEOS\",\n  GET_VIDEO: \"GET_VIDEO\",\n  GET_CATEGORIES: \"GET_CATEGORIES\",\n  ERROR: \"VIDEO_ERROR\",\n  FILTER_CATEGORY: \"FILTER_CATEGORY\",\n  SEARCH: \"SEARCH_VIDEO\",\n};\n\nexport const likeConstants = {\n  LOADING: \"LIKED_LOADING\",\n  GET_LIKED: \"GET_LIKED\",\n  ERROR: \"LIKE_ERROR\",\n  ADD_TO_LIKED: \"ADD_TO_LIKED\",\n  REMOVE_FROM_LIKED: \"REMOVE_FROM_LIKED\",\n};\n\nexport const watchLaterConstants = {\n  LOADING: \"WATCH_LATER_LOADING\",\n  GET_WATCH_LATER: \"GET_WATCH_LATER\",\n  ERROR: \"WATCH_LATER_ERROR\",\n  ADD_TO_WATCH_LATER: \"ADD_TO_WATCH_LATER\",\n  REMOVE_FROM_WATCH_LATER: \"REMOVE_FROM_WATCH_LATER\",\n};\n\nexport const historyConstants = {\n  LOADING: \"HISTORY_LOADING\",\n  GET_HISTORY: \"GET_HISTORY\",\n  ERROR: \"HISTORY_ERROR\",\n  ADD_TO_HISTORY: \"ADD_TO_HISTORY\",\n  REMOVE_FROM_HISTORY: \"REMOVE_FROM_HISTORY\",\n  CLEAR_HISTORY: \"CLEAR_HISTORY\",\n};\n\n\nexport const playlistConstants = {\n  LOADING: \"PLAYLIST_LOADING\",\n  GET_PLAYLIST: \"GET_PLAYLISTS\",\n  ERROR: \"PLAYLIST_ERROR\",\n  CREATE_PLAYLIST: \"CREATE_PLAYLIST\",\n  DELETE_PLAYLIST: \"DELETE_PLAYLIST\",\n  ADD_TO_PLAYLIST: \"ADD_TO_PLAYLIST\",\n  REMOVE_FROM_PLAYLIST: \"REMOVE_FROM_PLAYLIST\",\n  OPEN_MODAL: \"OPEN_PLAYLIST_MODAL\",\n  CLOSE_MODAL: \"CLOSE_PLAYLIST_MODAL\",\n};\n","import { globalActions } from \"../actions/globalActions\";\n\nconst globalReducer = (state, action) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case globalActions.OPEN_ALERT:\n      return {\n        ...state,\n        alert: { show: true, message: payload.message, type: payload.type },\n      };\n\n    case globalActions.CLOSE_ALERT:\n      return { ...state, alert: { show: false, message: \"\", type: \"\" } };\n  }\n};\n\nexport default globalReducer;\n","import { useReducer, useContext, createContext } from \"react\";\nimport { globalActions } from \"../actions/globalActions\";\n\nimport globalReducer from \"../reducers/globalReducer\";\n\nconst globalContext = createContext();\n\nconst initialState = {\n  alert: {\n    show: false,\n    message: \"\",\n    type: \"\",\n  },\n};\n\nconst GlobalProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(globalReducer, initialState);\n\n  const openAlert = (payload) =>\n    dispatch({ type: globalActions.OPEN_ALERT, payload });\n\n  const closeAlert = () => dispatch({ type: globalActions.CLOSE_ALERT });\n\n  return (\n    <globalContext.Provider\n      value={{\n        globalState: state,\n        globalHandlers: { openAlert, closeAlert },\n      }}\n    >\n      {children}\n    </globalContext.Provider>\n  );\n};\n\nconst useGlobalContext = () => useContext(globalContext);\n\nexport { GlobalProvider, useGlobalContext };\n","export const compose =\n  (...fns) =>\n  (state, data) =>\n    fns.reduce((acc, curr) => curr(state, acc), data);\n\nexport const getSearchResults = (\n  {\n    vid: {\n      filterOptions: { searchQuery },\n    },\n  },\n  data\n) => {\n  if (searchQuery !== \"\") {\n    return data?.filter((video) =>\n      video.title?.toLowerCase().includes(searchQuery?.toLowerCase())\n    );\n  }\n  return data;\n};\n\nexport const filterByCategory = (\n  {\n    vid: {\n      filterOptions: { category },\n    },\n  },\n  data\n) => {\n  if (category === \"all\" || category === \"\") return data;\n  else\n    return data?.filter((video) =>\n      video.categoryName?.toLowerCase().includes(category?.toLowerCase())\n    );\n};\n\n\nexport const addedorRemovedVideo = (playlists, newPlaylist) => {\n  const index = playlists.findIndex((item) => item._id === newPlaylist._id);\n\n  return [\n    ...playlists.slice(0, index),\n    newPlaylist,\n    ...playlists.slice(index + 1),\n  ];\n};","import { tokenName } from \"../providers/AuthProvider\";\n\nimport { authActions } from \"../actions/authActions\";\n\nconst authReducer = (state, action) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case authActions.LOADING:\n      return { ...state, loading: true };\n\n    case authActions.LOAD_USER:\n      if (payload.token !== \"\" || !payload.token) {\n        window.localStorage.setItem(tokenName, payload.token);\n      }\n      return {\n        ...state,\n        loading: false,\n        user: { token: payload.token, details: payload.user },\n      };\n\n    case authActions.LOAD_USER_PROFILE:\n      return {\n        ...state,\n        loading: false,\n        user: { ...state.user, details: payload },\n      };\n\n    case authActions.LOGOUT: {\n      window.localStorage.removeItem(tokenName);\n\n      return {\n        ...state,\n        user: { token: null, details: null },\n      };\n    }\n  }\n};\n\nexport default authReducer;\n","import { useReducer, useContext, createContext } from \"react\";\n\nexport const tokenName = \"drawFlixToken\";\n\nimport authReducer from \"../reducers/authReducer\";\n\nconst authContext = createContext();\n\nconst initialState = {\n  loading: false,\n  user: {\n    token: localStorage.getItem(`${tokenName}`),\n    details: null,\n  },\n};\n\nconst AuthProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, initialState);\n\n  return (\n    <authContext.Provider\n      value={{\n        authState: state,\n        authDispatch: dispatch,\n      }}\n    >\n      {children}\n    </authContext.Provider>\n  );\n};\n\nconst useAuthContext = () => useContext(authContext);\n\nexport { AuthProvider, useAuthContext };\n","import { tokenName } from \"../context/providers/AuthProvider\";\n\n const getConfig = () => {\n   const encodedToken = localStorage.getItem(`${tokenName}`);\n\n   if (encodedToken)\n     return {\n       headers: {\n         authorization: encodedToken,\n       },\n     };\n   else return {};\n };\n export default getConfig;","import axios from \"axios\";\n\nimport { likeConstants } from \"../context\";\nimport getConfig from \"./config\";\n\n//Likes\nexport const loadLikedVideos = async (dispatch) => {\n  const config = getConfig();\n\n  try {\n    dispatch({ type: likeConstants.LOADING });\n    const response = await axios.get(\n      `${process.env.REACT_APP_URL}/user/likes`,\n      config\n    );\n\n    if (response.status === 200) {\n      dispatch({\n        type: likeConstants.GET_LIKED,\n        payload: response.data.likes,\n      });\n    }\n  } catch (e) {\n    dispatch({\n      type: likeConstants.ERROR,\n      payload: \"Oops! Something went wrong :(\",\n    });\n  }\n};\n\nexport const addToLiked = async (video, dispatch, openAlert) => {\n  const config = getConfig();\n\n  try {\n    const response = await axios.post(\n      `${process.env.REACT_APP_URL}/user/likes`,\n      { video },\n      config\n    );\n\n    if (response.status === 201) {\n      openAlert({ message: \"Added to Liked videos!\", type: \"info\" });\n      dispatch({\n        type: likeConstants.ADD_TO_LIKED,\n        payload: response.data.likes,\n      });\n    }\n  } catch (e) {\n    openAlert({ message: e?.response?.data?.errors[0], type: \"error\" });\n  }\n};\n\nexport const removeFromLiked = async (id, dispatch, openAlert) => {\n  const config = getConfig();\n\n  try {\n    const response = await axios.delete(\n      `${process.env.REACT_APP_URL}/user/likes/${id}`,\n      config\n    );\n\n    if (response.status === 200) {\n      openAlert({ message: \"Removed from Liked videos!\", type: \"info\" });\n      dispatch({\n        type: likeConstants.REMOVE_FROM_LIKED,\n        payload: response.data.likes,\n      });\n    }\n  } catch (e) {\n    openAlert({ message: e?.response?.data?.errors[0], type: \"error\" });\n  }\n};","import axios from \"axios\";\n\nimport { watchLaterConstants } from \"../context\";\n\nimport getConfig from \"./config\";\n\nexport const loadwatchLaterVideos = async (dispatch) => {\n  const config = getConfig();\n\n  try {\n    dispatch({ type: watchLaterConstants.LOADING });\n    const response = await axios.get(\n      `${process.env.REACT_APP_URL}/user/watchlater`,\n      config\n    );\n\n    if (response.status === 200) {\n      dispatch({\n        type: watchLaterConstants.GET_WATCH_LATER,\n        payload: response.data.watchlater,\n      });\n    }\n  } catch (e) {\n    dispatch({\n      type: watchLaterConstants.ERROR,\n      payload: \"Oops! Something went wrong :(\",\n    });\n  }\n};\n\nexport const addToWatchLater = async (video, dispatch, openAlert) => {\n  const config = getConfig();\n\n  try {\n    const response = await axios.post(\n      `${process.env.REACT_APP_URL}/user/watchlater`,\n      { video },\n      config\n    );\n\n    if (response.status === 201) {\n      openAlert({ message: \"Added to Watch Later!\", type: \"info\" });\n      dispatch({\n        type: watchLaterConstants.ADD_TO_WATCH_LATER,\n        payload: response.data.watchlater,\n      });\n    }\n  } catch (e) {\n    openAlert({ message: e?.response?.data?.errors[0], type: \"error\" });\n  }\n};\n\nexport const removeFromWatchLater = async (id, dispatch, openAlert) => {\n  const config = getConfig();\n\n  try {\n    const response = await axios.delete(\n      `${process.env.REACT_APP_URL}/user/watchlater/${id}`,\n      config\n    );\n\n    if (response.status === 200) {\n      openAlert({ message: \"Removed from Watch Later!\", type: \"info\" });\n      dispatch({\n        type: watchLaterConstants.REMOVE_FROM_WATCH_LATER,\n        payload: response.data.watchlater,\n      });\n    }\n  } catch (e) {\n    openAlert({ message: e?.response?.data?.errors[0], type: \"error\" });\n  }\n};","import {\n  videoConstants,\n  likeConstants,\n  watchLaterConstants,\n  historyConstants,\n  playlistConstants,\n} from \"../actions/dataActions\";\n\nimport { addedorRemovedVideo } from \"../helper\";\n\nconst userReducer = (state, action) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case videoConstants.LOADING:\n      return {\n        ...state,\n        vid: { ...state.vid, loading: true },\n      };\n\n    case videoConstants.GET_VIDEOS:\n      return {\n        ...state,\n        vid: {\n          ...state.vid,\n          error: null,\n          loading: false,\n          items: payload,\n        },\n      };\n\n    case videoConstants.GET_VIDEO:\n      return {\n        ...state,\n        vid: {\n          ...state.vid,\n          error: null,\n          loading: false,\n          single_video: payload,\n        },\n      };\n\n    case videoConstants.ERROR:\n      return {\n        ...state,\n        vid: { ...state.vid, error: payload, loading: false, items: [] },\n      };\n\n    case videoConstants.FILTER_CATEGORY:\n      return {\n        ...state,\n        vid: {\n          ...state.vid,\n          filterOptions: {\n            ...state.vid.filterOptions,\n            category: payload,\n          },\n        },\n      };\n\n    case videoConstants.SEARCH:\n      return {\n        ...state,\n        vid: {\n          ...state.vid,\n          filterOptions: {\n            ...state.vid.filterOptions,\n            searchQuery: payload,\n          },\n        },\n      };\n\n    //Likes\n\n    case likeConstants.LOADING:\n      return {\n        ...state,\n        liked: { ...state.liked, loading: true, error: null },\n      };\n\n    case likeConstants.GET_LIKED:\n      return {\n        ...state,\n        liked: {\n          error: null,\n          loading: false,\n          items: payload,\n        },\n      };\n\n    case likeConstants.ERROR:\n      return {\n        ...state,\n        liked: { error: payload, loading: false, items: [] },\n      };\n\n    case likeConstants.ADD_TO_LIKED:\n      return {\n        ...state,\n        liked: {\n          error: null,\n          loading: false,\n          items: payload,\n        },\n      };\n\n    case likeConstants.REMOVE_FROM_LIKED:\n      return {\n        ...state,\n        liked: {\n          error: null,\n          loading: false,\n          items: payload,\n        },\n      };\n\n    // Watch Later\n\n    case watchLaterConstants.LOADING:\n      return {\n        ...state,\n        watchLater: { ...state.watchLater, loading: true, error: null },\n      };\n\n    case watchLaterConstants.GET_WATCH_LATER:\n      return {\n        ...state,\n        watchLater: {\n          error: null,\n          loading: false,\n          items: payload,\n        },\n      };\n\n    case watchLaterConstants.ERROR:\n      return {\n        ...state,\n        watchLater: { error: payload, loading: false, items: [] },\n      };\n\n    case watchLaterConstants.ADD_TO_WATCH_LATER:\n      return {\n        ...state,\n        watchLater: {\n          error: null,\n          loading: false,\n          items: payload,\n        },\n      };\n\n    case watchLaterConstants.REMOVE_FROM_WATCH_LATER:\n      return {\n        ...state,\n        watchLater: {\n          ...state.watchLater,\n          items: payload,\n        },\n      };\n\n    // History\n\n    case historyConstants.LOADING:\n      return { ...state, history: { ...state.history, loading: true } };\n\n    case historyConstants.GET_HISTORY:\n      return {\n        ...state,\n        history: { loading: false, error: null, items: payload },\n      };\n\n    case historyConstants.ERROR:\n      return {\n        ...state,\n        history: { loading: false, error: null, items: [] },\n      };\n\n    case historyConstants.ADD_TO_HISTORY:\n      return {\n        ...state,\n        history: {\n          ...state.history,\n          items: payload,\n        },\n      };\n\n    case historyConstants.REMOVE_FROM_HISTORY:\n      return {\n        ...state,\n        history: {\n          ...state.history,\n          items: payload,\n        },\n      };\n\n    case historyConstants.CLEAR_HISTORY:\n      return {\n        ...state,\n        history: {\n          ...state.history,\n          loading: false,\n          items: [],\n        },\n      };\n\n    // Playlist\n\n    case playlistConstants.OPEN_MODAL:\n      return {\n        ...state,\n        playlist: {\n          ...state.playlist,\n          playlistModal: true,\n          video: payload,\n        },\n      };\n\n    case playlistConstants.CLOSE_MODAL:\n      return {\n        ...state,\n        playlist: {\n          ...state.playlist,\n          playlistModal: false,\n          video: {},\n        },\n      };\n\n    case playlistConstants.LOADING:\n      return { ...state, playlist: { ...state.playlist, loading: true } };\n\n    case playlistConstants.GET_PLAYLIST:\n      return {\n        ...state,\n        playlist: { ...state.playlist, loading: false, items: payload },\n      };\n\n    case playlistConstants.ERROR:\n      return {\n        ...state,\n        playlist: { ...state.playlist, loading: false, error: payload },\n      };\n\n    case playlistConstants.CREATE_PLAYLIST:\n      return {\n        ...state,\n        playlist: { ...state.playlist, items: payload },\n      };\n\n    case playlistConstants.DELETE_PLAYLIST:\n      return {\n        ...state,\n        playlist: { ...state.playlist, items: payload },\n      };\n\n    case playlistConstants.ADD_TO_PLAYLIST:\n      return {\n        ...state,\n        playlist: {\n          ...state.playlist,\n          items: addedorRemovedVideo(state.playlist.items, payload),\n        },\n      };\n\n    case playlistConstants.REMOVE_FROM_PLAYLIST:\n      return {\n        ...state,\n        playlist: {\n          ...state.playlist,\n          items: addedorRemovedVideo(state.playlist.items, payload),\n        },\n      };\n\n    case playlistConstants.DELETE_PLAYLIST:\n      return {\n        ...state,\n        playlist: {\n          ...state.playlist,\n          items: payload,\n        },\n      };\n  }\n};\n\nexport default userReducer;\n","import axios from \"axios\";\n\nimport { historyConstants } from \"../context\";\nimport getConfig from \"./config\";\n\n// History\nexport const loadHistoryVideos = async (dispatch) => {\n  const config = getConfig();\n\n  try {\n    dispatch({ type: historyConstants.LOADING });\n    const response = await axios.get(\n      `${process.env.REACT_APP_URL}/user/history`,\n      config\n    );\n\n    if (response.status === 200) {\n      dispatch({\n        type: historyConstants.GET_HISTORY,\n        payload: response.data.history,\n      });\n    }\n  } catch (e) {\n    dispatch({\n      type: historyConstants.ERROR,\n      payload: \"Oops! Something went wrong :(\",\n    });\n  }\n};\n\nexport const addToHistory = async (video, dispatch, openAlert) => {\n  const config = getConfig();\n\n  try {\n    const response = await axios.post(\n      `${process.env.REACT_APP_URL}/user/history`,\n      { video },\n      config\n    );\n\n    if (response.status === 201) {\n      openAlert({ message: \"Added to History!\", type: \"info\" });\n      dispatch({\n        type: historyConstants.ADD_TO_HISTORY,\n        payload: response.data.history,\n      });\n    }\n  } catch (e) {\n    openAlert({ message: e?.response?.data?.errors[0], type: \"error\" });\n  }\n};\n\nexport const removeFromHistory = async (id, dispatch, openAlert) => {\n  const config = getConfig();\n\n  try {\n    const response = await axios.delete(\n      `${process.env.REACT_APP_URL}/user/history/${id}`,\n      config\n    );\n\n    if (response.status === 200) {\n      openAlert({ message: \"Removed from History!\", type: \"info\" });\n      dispatch({\n        type: historyConstants.REMOVE_FROM_HISTORY,\n        payload: response.data.history,\n      });\n    }\n  } catch (e) {\n    openAlert({ message: e?.response?.data?.errors[0], type: \"error\" });\n  }\n};\n\nexport const clearHistory = async (dispatch, openAlert) => {\n  const config = getConfig();\n\n  dispatch({ type: historyConstants.LOADING });\n  try {\n    const response = await axios.delete(\n      `${process.env.REACT_APP_URL}/user/history/all`,\n      config\n    );\n\n    if (response.status === 200) {\n      openAlert({ message: \"Cleared History!\", type: \"info\" });\n      dispatch({\n        type: historyConstants.CLEAR_HISTORY,\n      });\n    }\n  } catch (e) {\n    openAlert({ message: e?.response?.data?.errors[0], type: \"error\" });\n  }\n};","import { useReducer, useContext, createContext, useEffect } from \"react\";\n\nimport { compose, filterByCategory, getSearchResults } from \"../helper\";\nimport { useAuthContext } from \"./AuthProvider\";\nimport { loadLikedVideos } from \"../../services/likes\";\nimport { loadwatchLaterVideos } from \"../../services/watchlater\";\n\nimport dataReducer from \"../reducers/dataReducer\";\nimport { loadHistoryVideos } from \"../../services/history\";\nimport { playlistConstants } from \"../actions/dataActions\";\n\nconst dataContext = createContext();\n\nconst initialState = {\n  vid: {\n    loading: false,\n    items: [],\n    error: null,\n    single_video: {},\n    filterOptions: {\n      searchQuery: \"\",\n      category: \"\",\n    },\n  },\n  liked: {\n    loading: false,\n    items: [],\n    error: null,\n  },\n  watchLater: {\n    loading: false,\n    items: [],\n    error: null,\n  },\n  history: {\n    loading: false,\n    items: [],\n    error: null,\n  },\n  playlist: {\n    loading: false,\n    items: [],\n    error: null,\n    playlistModal: false,\n    video: {},\n    single_playlist: {},\n  },\n};\n\nconst DataProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(dataReducer, initialState);\n\n  const openPModal = (video) =>\n    dispatch({ type: playlistConstants.OPEN_MODAL, payload: video });\n\n  const closePModal = () => dispatch({ type: playlistConstants.CLOSE_MODAL });\n\n  const filteredVideos = compose(filterByCategory, getSearchResults)(\n    state,\n    state?.vid?.items || []\n  );\n\n  const {\n    authState: {\n      user: { token },\n    },\n  } = useAuthContext();\n\n  useEffect(() => {\n    if (state.liked.items?.length === 0 && token) loadLikedVideos(dispatch);\n  }, [token]);\n\n  useEffect(() => {\n    if (state.watchLater.items?.length === 0 && token)\n      loadwatchLaterVideos(dispatch);\n  }, [token]);\n\n  useEffect(() => {\n    if (state.history.items?.length === 0 && token) loadHistoryVideos(dispatch);\n  }, [token]);\n\n  return (\n    <dataContext.Provider\n      value={{\n        dataState: state,\n        dataDispatch: dispatch,\n        filteredVideos,\n        handlers: { openPModal, closePModal },\n      }}\n    >\n      {children}\n    </dataContext.Provider>\n  );\n};\n\nconst useDataContext = () => useContext(dataContext);\n\nexport { DataProvider, useDataContext };\n","import { useEffect } from \"react\";\n\nconst useChangeColor = (handler) => {\n  const changeColor = () => {\n    if (window.scrollY > 90) handler(true);\n    else handler(false);\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", changeColor);\n\n    return () => {\n      window.removeEventListener(\"scroll\", changeColor);\n    };\n  });\n};\n\nexport default useChangeColor;\n","import { useState } from \"react\";\nimport { Link, NavLink } from \"react-router-dom\";\nimport { navData, authNavigation } from \"./data\";\n\nimport { FaBars } from \"react-icons/fa\";\n\nimport \"./navbar.scss\";\n\nimport logo from \"../../assets/logo.png\";\n\nimport { authActions, useAuthContext, useGlobalContext } from \"../../context\";\nimport useChangeColor from \"../../hooks/useChangeColor\";\nimport { getNavRoute } from \"../../utils/getNavRoute\";\n\nconst Navbar = () => {\n  const {\n    authState: {\n      user: { token },\n    },\n    authDispatch,\n  } = useAuthContext();\n  const {\n    globalHandlers: { openAlert },\n  } = useGlobalContext();\n\n  const [darkNav, setDarkNav] = useState(false);\n  const [show, setShow] = useState(false);\n\n  const pathName = getNavRoute();\n\n  useChangeColor(setDarkNav);\n\n  const handleLogout = () => {\n    setTimeout(() => {\n      openAlert({ message: \"Logged out successfully!\", type: \"success\" });\n      authDispatch({ type: authActions.LOGOUT });\n    }, 1000);\n  };\n\n  return (\n    <>\n      <nav className={`${darkNav ? \"dark\" : \"\"} navbar`}>\n        <div className=\"brand\">\n          <span className=\"menu-btn\" onClick={() => setShow((val) => !val)}>\n            <FaBars />\n          </span>\n\n          <Link to=\"/\" className=\"brand__link\">\n            <img src={logo} alt=\"logo image\" className=\"img-responsive\" />\n          </Link>\n          <span className=\"brand__divider\">|</span>\n          <span className=\"brand__path\"> {pathName} </span>\n        </div>\n\n        <ul className=\"nav-links\">\n          {token ? (\n            <button onClick={handleLogout}>Logout</button>\n          ) : (\n            <Link to=\"/signin\">Sign In</Link>\n          )}\n        </ul>\n      </nav>\n\n      <aside className={`${show ? \"active sidebar\" : \"sidebar\"}`}>\n        <ul className=\"sidebar__links-container\">\n          {navData.map((item) => (\n            <NavLink\n              key={item.id}\n              to={`${item.path}`}\n              onClick={() => setShow(false)}\n              className={({ isActive }) =>\n                isActive ? \"active_link sidebar__links\" : \"sidebar__links\"\n              }\n            >\n              <span>{item.icon}</span>\n              {item.name}\n            </NavLink>\n          ))}\n\n          {!token ? (\n            <>\n              <p className=\"divider\"></p>\n              {authNavigation.map((item) => (\n                <NavLink\n                  key={item.id}\n                  to={item.path}\n                  onClick={() => setShow(false)}\n                  className={({ isActive }) =>\n                    isActive ? \"active_link sidebar__links\" : \"sidebar__links\"\n                  }\n                >\n                  <span>{item.icon}</span>\n                  {item.name}\n                </NavLink>\n              ))}\n            </>\n          ) : null}\n        </ul>\n      </aside>\n\n      <div\n        className={`${show ? \"sidebar-overlay\" : \"\"}`}\n        onClick={() => setShow(false)}\n      ></div>\n    </>\n  );\n};\n\nexport default Navbar;\n","import { useLocation } from \"react-router-dom\";\n\nexport const getNavRoute = () => {\n  const location = useLocation();\n  const routesName = [\n    \"home\",\n    \"explore\",\n    \"liked\",\n    \"watchlater\",\n    \"playlists\",\n    \"history\",\n    \"signin\",\n    \"signup\",\n  ];\n\n  const showPathName = location.pathname.split(\"/\")[1];\n  let correctPathName = \"\";\n\n  if (showPathName === \"\") correctPathName = \"home\";\n  else if (routesName.includes(showPathName)) correctPathName = showPathName;\n  else correctPathName = \"not found\";\n\n  return correctPathName;\n};\n","import { Link } from \"react-router-dom\";\n\nimport logo from \"../../assets/logo.png\";\n\nimport \"./footer.scss\";\n\nconst Footer = () => {\n  return (\n    <footer className=\"footer\">\n      <div className=\"footer__navigation b-margin-sm\">\n        <Link to=\"/\">\n          <img className=\"footer__brand-icon\" src={logo} alt=\"brand-logo\" />\n        </Link>\n        <div>\n          <h4 className=\"h4\">My Account</h4>\n          <ul className=\"footer__links-container\">\n            {/* <Link to=\"/\" className=\"footer__links\">\n              My Account\n            </Link> */}\n            <Link to=\"/playlists\" className=\"footer__links\">\n              My Playlists\n            </Link>\n            <Link to=\"/history\" className=\"footer__links\">\n              History\n            </Link>\n            <Link to=\"/liked\" className=\"footer__links\">\n              Liked Videos\n            </Link>\n          </ul>\n        </div>\n\n        <div>\n          <h4 className=\"h4\">Connect With Us!</h4>\n          <ul className=\"footer__links-container\">\n            <a\n              href=\"https://www.linkedin.com/in/sukanya-sen-615980130/\"\n              className=\"footer__links\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              LinkedIn\n            </a>\n            <a\n              href=\"https://github.com/SukanyaSen530\"\n              className=\"footer__links\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Github\n            </a>\n            <a\n              href=\"https://twitter.com/Sukanya71873255\"\n              className=\"footer__links\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Twitter\n            </a>\n          </ul>\n        </div>\n      </div>\n\n      <div className=\"footer__copyright\">\n        <p>\n          <strong>Disclaimer - </strong>\n          This website is just for illustration purposes.\n        </p>\n        <p>\n          <strong> Copyright &copy; </strong> by Sukanya Sen, 2022\n        </p>\n      </div>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import \"./input-field.scss\";\n\nimport { useState } from \"react\";\nimport { AiFillEye, AiFillEyeInvisible } from \"react-icons/ai\";\n\nfunction InputField({ label, type, errorMessage, ...other }) {\n  const [showPass, setShowPass] = useState(false);\n\n  return (\n    <div className=\"input-group-new\">\n      <label className=\"input-group-new__label\">{label}</label>\n      <input\n        {...other}\n        type={type === \"password\" ? (showPass ? \"text\" : \"password\") : type}\n        className=\"input-group-new__input\"\n        placeholder={label}\n      />\n\n      {type === \"password\" ? (\n        <span\n          onClick={() => setShowPass((val) => !val)}\n          className=\"input-group-new__show-pass\"\n        >\n          {showPass ? <AiFillEye /> : <AiFillEyeInvisible />}\n        </span>\n      ) : (\n        \"\"\n      )}\n\n      {errorMessage && (\n        <span className=\"input-group-new__error-message\">{errorMessage}</span>\n      )}\n    </div>\n  );\n}\n\nexport default InputField;\n","export const videoImage = (videoId, type = \"sm\") => {\n  if (type === \"sm\") return `https://i.ytimg.com/vi/${videoId}/default.jpg`;\n  else if (type === \"md\")\n    return `https://i.ytimg.com/vi/${videoId}/mqdefault.jpg`;\n  else if (type === \"lg\")\n    return `https://i.ytimg.com/vi/${videoId}/hqdefault.jpg`;\n  else return \"\";\n};\n","import { useEffect, useRef } from \"react\";\n\nconst useClickOutside = (handler) => {\n  let node = useRef();\n\n  let handleClick = (e) => {\n    if (!node?.current?.contains(e.target)) {\n      handler();\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"mousedown\", handleClick);\n\n    return () => {\n      window.removeEventListener(\"mousedown\", handleClick);\n    };\n  });\n\n  return node;\n};\n\nexport default useClickOutside;\n","import { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\n// Icons\nimport { BiDotsVertical } from \"react-icons/bi\";\nimport { AiOutlineLike, AiFillLike } from \"react-icons/ai\";\nimport { MdOutlineAccessTime, MdOutlineAccessTimeFilled } from \"react-icons/md\";\nimport { CgPlayListAdd } from \"react-icons/cg\";\nimport { BsPlayCircle } from \"react-icons/bs\";\n\n// Image\nimport { videoImage } from \"../../../utils/imageGenerator\";\n\nimport {\n  useDataContext,\n  useGlobalContext,\n  useAuthContext,\n} from \"../../../context\";\nimport { addToLiked, removeFromLiked } from \"../../../services/likes\";\nimport {\n  addToWatchLater,\n  removeFromWatchLater,\n} from \"../../../services/watchlater\";\nimport useClickOutside from \"../../../hooks/useClickOutside\";\n\n// Styles\nimport \"./video-card.scss\";\n\nconst VideoCard = ({ _id, title, categoryName, creatorImg, creator }) => {\n  const [open, setOpen] = useState(false);\n  const domNode = useClickOutside(() => setOpen(false));\n\n  const video = { _id, title, categoryName, creatorImg, creator };\n\n  const {\n    dataState,\n    dataDispatch,\n    handlers: { openPModal },\n  } = useDataContext();\n\n  const {\n    liked: { items: likedVideos },\n    watchLater: { items: watchLaterVideos },\n  } = dataState;\n  const {\n    globalHandlers: { openAlert },\n  } = useGlobalContext();\n  const {\n    authState: {\n      user: { token },\n    },\n  } = useAuthContext();\n\n  const inLikedVideos = likedVideos.some((item) => item._id === _id);\n  const inWatchLater = watchLaterVideos.some((item) => item._id === _id);\n\n  const handleLike = () => {\n    if (token) {\n      if (inLikedVideos) removeFromLiked(_id, dataDispatch, openAlert);\n      else addToLiked(video, dataDispatch, openAlert);\n    } else {\n      openAlert({ message: \"You need to login first!\", type: \"warning\" });\n    }\n  };\n\n  const handleWatchLater = () => {\n    if (token) {\n      if (inWatchLater) removeFromWatchLater(_id, dataDispatch, openAlert);\n      else addToWatchLater(video, dataDispatch, openAlert);\n    } else {\n      openAlert({ message: \"You need to login first!\", type: \"warning\" });\n    }\n  };\n\n  const handleOpenPlaylist = () => {\n    if (token) {\n      openPModal(video);\n    } else openAlert({ message: \"You need to login first!\", type: \"warning\" });\n  };\n\n  return (\n    <article className=\"video-card\">\n      <Link to={`/explore/${_id}`}>\n        <div className=\"video-card__img-container\">\n          <img src={videoImage(_id, \"lg\")} className=\"img-responsive\" />\n          <BsPlayCircle className=\"video-card__play\" />\n        </div>\n      </Link>\n      <div className=\"video-card__content\">\n        <figure className=\"avatar avatar-sm\">\n          <img className=\"avatar-img\" src={creatorImg} alt=\"creator image\" />\n        </figure>\n        <p className=\"video-card__content__title\">{title}</p>\n\n        <div className=\"menu\" ref={domNode}>\n          <BiDotsVertical\n            className=\"menu__open-icon\"\n            onClick={() => setOpen((val) => !val)}\n          />\n          <ul className={`menu__items ${open ? \"active\" : \"\"}`}>\n            <li onClick={handleLike}>\n              {inLikedVideos && token ? (\n                <AiFillLike className=\"item-active\" />\n              ) : (\n                <AiOutlineLike />\n              )}\n            </li>\n            <li onClick={handleWatchLater}>\n              {inWatchLater && token ? (\n                <MdOutlineAccessTimeFilled className=\"item-active\" />\n              ) : (\n                <MdOutlineAccessTime />\n              )}\n            </li>\n            <li onClick={handleOpenPlaylist}>\n              <CgPlayListAdd />\n            </li>\n          </ul>\n        </div>\n      </div>\n      <div className=\"video-card__info\">\n        <span>{creator}</span> <span>|</span> <span>{categoryName}</span>\n      </div>\n    </article>\n  );\n};\n\nexport default VideoCard;\n","import axios from \"axios\";\n\nimport { playlistConstants } from \"../context\";\nimport getConfig from \"./config\";\n\n// Playlists\nexport const loadAllPlaylists = async (dispatch) => {\n  const config = getConfig();\n\n  try {\n    dispatch({ type: playlistConstants.LOADING });\n    const response = await axios.get(\n      `${process.env.REACT_APP_URL}/user/playlists`,\n      config\n    );\n\n    if (response.status === 200) {\n      dispatch({\n        type: playlistConstants.GET_PLAYLIST,\n        payload: response.data.playlists,\n      });\n    }\n  } catch (e) {\n    dispatch({\n      type: playlistConstants.ERROR,\n      payload: \"Oops! Something went wrong :(\",\n    });\n  }\n};\n\nexport const createPlaylist = async (playlist, dispatch, openAlert) => {\n  const config = getConfig();\n\n  try {\n    const response = await axios.post(\n      `${process.env.REACT_APP_URL}/user/playlists`,\n      { playlist },\n      config\n    );\n\n    if (response.status === 201) {\n      openAlert({ message: \"Created a new playlist!\", type: \"info\" });\n      dispatch({\n        type: playlistConstants.CREATE_PLAYLIST,\n        payload: response.data.playlists,\n      });\n    }\n  } catch (e) {\n    openAlert({ message: e?.response?.data?.errors[0], type: \"error\" });\n  }\n};\n\n\n\nexport const addToPlaylist = async (id, video, dispatch, openAlert) => {\n  const config = getConfig();\n\n  if (!video || Object.keys(video).length === 0) return;\n\n  try {\n    const response = await axios.post(\n      `${process.env.REACT_APP_URL}/user/playlists/${id}`,\n      { video },\n      config\n    );\n\n    if (response.status === 201) {\n      openAlert({ message: \"Added to playlist!\", type: \"info\" });\n      dispatch({\n        type: playlistConstants.ADD_TO_PLAYLIST,\n        payload: response.data.playlist,\n      });\n    }\n  } catch (e) {\n    openAlert({ message: e?.response?.data?.errors[0], type: \"error\" });\n  }\n};\n\nexport const removeFromPlaylist = async (id, videoId, dispatch, openAlert) => {\n  const config = getConfig();\n\n  try {\n    const response = await axios.delete(\n      `${process.env.REACT_APP_URL}/user/playlists/${id}/${videoId}`,\n      config\n    );\n\n    if (response.status === 200) {\n      openAlert({ message: \"Removed from playlist!\", type: \"info\" });\n      dispatch({\n        type: playlistConstants.ADD_TO_PLAYLIST,\n        payload: response.data.playlist,\n      });\n    }\n  } catch (e) {\n    openAlert({ message: e?.response?.data?.errors[0], type: \"error\" });\n  }\n};\n\nexport const deletePlaylist = async (id, dispatch, openAlert) => {\n  const config = getConfig();\n\n  try {\n    const response = await axios.delete(\n      `${process.env.REACT_APP_URL}/user/playlists/${id}`,\n      config\n    );\n\n    if (response.status === 200) {\n      openAlert({ message: \"Deleted the playlist!\", type: \"info\" });\n      dispatch({\n        type: playlistConstants.DELETE_PLAYLIST,\n        payload: response.data.playlists,\n      });\n    }\n  } catch (e) {\n    openAlert({ message: e?.response?.data?.errors[0], type: \"error\" });\n  }\n};","import { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport useClickOutside from \"../../../hooks/useClickOutside\";\n\nimport { useDataContext, useGlobalContext } from \"../../../context\";\nimport { removeFromHistory } from \"../../../services/history\";\nimport { removeFromPlaylist } from \"../../../services/playlists\";\n\n// Image\nimport { videoImage } from \"../../../utils/imageGenerator\";\n\nimport \"./horizontal-card.scss\";\n\n// Icons\nimport { BsPlayCircle } from \"react-icons/bs\";\nimport { BiDotsVertical } from \"react-icons/bi\";\nimport { RiDeleteBin7Fill } from \"react-icons/ri\";\nimport { CgPlayListAdd } from \"react-icons/cg\";\n\nconst HorizontalCard = ({ video, type, playlistId }) => {\n  const [open, setOpen] = useState(false);\n  const domNode = useClickOutside(() => setOpen(false));\n\n  const { _id, title, creator } = video;\n\n  const {\n    dataDispatch,\n    handlers: { openPModal },\n  } = useDataContext();\n  const {\n    globalHandlers: { openAlert },\n  } = useGlobalContext();\n\n  const handleDelete = () => {\n    if (type === \"history\") {\n      removeFromHistory(_id, dataDispatch, openAlert);\n    } else removeFromPlaylist(playlistId, _id, dataDispatch, openAlert);\n  };\n\n  const handleOpenPlaylist = () => openPModal(video);\n\n  return (\n    <article className=\"horizontal-card\">\n      <Link to={`/explore/${_id}`} className=\"horizontal-card__img-container\">\n        <img\n          src={videoImage(_id, \"lg\")}\n          className=\"img-responsive\"\n          alt={`${title}`}\n        />\n        <BsPlayCircle className=\"horizontal-card__play\" />\n      </Link>\n\n      <div className=\"horizontal-card__content\">\n        <p className=\"horizontal-card__title t-margin-sm\">{title}</p>\n        <p>{creator}</p>\n      </div>\n\n      <div className=\"horizontal-card__menu menu\" ref={domNode}>\n        <BiDotsVertical\n          className=\"menu__open-icon\"\n          onClick={() => setOpen((val) => !val)}\n        />\n        <ul className={`menu__items ${open ? \"active\" : \"\"}`}>\n          <li onClick={handleOpenPlaylist}>\n            <CgPlayListAdd />\n          </li>\n          <li onClick={handleDelete}>\n            <RiDeleteBin7Fill />\n          </li>\n        </ul>\n      </div>\n    </article>\n  );\n};\n\nexport default HorizontalCard;\n","import { useEffect } from \"react\";\n\nimport \"./alert.scss\";\n\nimport { useGlobalContext } from \"../../context\";\n\nconst Alert = () => {\n  const {\n    globalState: {\n      alert: { message, type, show },\n    },\n    globalHandlers: { closeAlert },\n  } = useGlobalContext();\n\n  useEffect(() => {\n    if (show) {\n      setTimeout(() => closeAlert(), 1000);\n    }\n  }, [show]);\n\n  let alertTypeClass = \"alert—info\";\n  switch (type) {\n    case \"error\":\n      alertTypeClass = \"alert-error\";\n      break;\n    case \"info\":\n      alertTypeClass = \"alert-info\";\n      break;\n    case \"warning\":\n      alertTypeClass = \"alert-warning\";\n      break;\n    case \"success\":\n      alertTypeClass = \"alert-success\";\n      break;\n  }\n\n  if (show)\n    return (\n      <article className={`alert ${alertTypeClass} ${show ? \"animate\" : \"\"}`}>\n        {message}\n      </article>\n    );\n\n  return <></>;\n};\n\nexport default Alert;\n","import \"./loader.scss\";\n\nconst Loader = () => {\n  const numOfBalls = 5;\n  return (\n    <div className=\"loader-section\">\n      <div className=\"loader\">\n        {Array(numOfBalls)\n          .fill(0)\n          .map((item, index) => (\n            <div\n              key={`${item}${index}loader`}\n              className={`loader__child`}\n            ></div>\n          ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Loader;\n","import { useDataContext, videoConstants } from \"../../context\";\n\nimport { FiSearch } from \"react-icons/fi\";\nimport \"./search-filter.scss\";\n\nconst SearchFilter = ({ categories }) => {\n  const {\n    dataState: {\n      vid: {\n        filterOptions: { category, searchQuery },\n      },\n    },\n    dataDispatch,\n  } = useDataContext();\n\n  const handleSearch = (e) => {\n    setTimeout(() => {\n      dataDispatch({\n        type: videoConstants.SEARCH,\n        payload: e.target.value,\n      });\n    }, 1000);\n  };\n\n  const handleFilterByCategory = (e) => {\n    dataDispatch({\n      type: videoConstants.FILTER_CATEGORY,\n      payload: e.target.value,\n    });\n  };\n\n  return (\n    <div className=\"search-filter b-margin-lg\">\n      <select\n        className=\"category-dropdown\"\n        value={category}\n        onChange={handleFilterByCategory}\n      >\n        <option value=\"all\"> All </option>\n        {categories?.map((data) => (\n          <option key={data.id} value={data.categoryName}>\n            {data.categoryName}\n          </option>\n        ))}\n      </select>\n\n      <div className=\"search-container\">\n        <FiSearch className=\"search-container__icon\" />\n        <input\n          type=\"search\"\n          placeholder=\"Search by title\"\n          className=\"search-container__input\"\n          onChange={handleSearch}\n          defaultValue={searchQuery}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default SearchFilter;\n","import reactDom from \"react-dom\";\nimport { IoClose } from \"react-icons/io5\";\n\nimport \"./modal.scss\";\n\nconst Modal = ({ open, onClose, children }) => {\n  if (!open) return null;\n\n  return reactDom.createPortal(\n    <article className=\"modal-overlay\" onClick={onClose}>\n      <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\n        {children}\n        <IoClose className=\"modal-content__close-btn\" onClick={onClose} />\n      </div>\n    </article>,\n    document.getElementById(\"modal-root\")\n  );\n};\n\nexport default Modal;\n","import { useState } from \"react\";\n\nimport \"./playlist-input.scss\";\n\nimport { useDataContext, useGlobalContext } from \"../../context\";\nimport { createPlaylist } from \"../../services/playlists\";\n\nconst PlaylistInput = () => {\n  const [title, setTitle] = useState(\"\");\n\n  const { dataDispatch } = useDataContext();\n  const {\n    globalHandlers: { openAlert },\n  } = useGlobalContext();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    createPlaylist({ title }, dataDispatch, openAlert);\n    setTitle(\"\");\n  };\n\n  return (\n    <div className=\"playlist-input\">\n      <form onSubmit={handleSubmit}>\n        <input\n          className=\"playlist-input__field\"\n          placeholder=\"Enter playlist name\"\n          required\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n        />\n\n        <button\n          className=\"playlist-input__btn btn-icon btn-sm secondaryDark\"\n          type=\"submit\"\n        >\n          <i className=\"fa-solid fa-file-circle-plus\"></i>\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default PlaylistInput;\n","import \"./playlist.scss\";\n\nimport { useDataContext, useGlobalContext } from \"../../context\";\nimport { addToPlaylist, removeFromPlaylist } from \"../../services/playlists\";\n\nconst Playlist = () => {\n  const {\n    dataState: {\n      playlist: { video, items: playlists },\n    },\n    dataDispatch,\n  } = useDataContext();\n  const {\n    globalHandlers: { openAlert },\n  } = useGlobalContext();\n\n  const isVideoInPlaylist = (playlist) =>\n    playlist.videos.some((item) => item?._id === video?._id);\n\n  const handleAddRemove = (item) => {\n    if (!isVideoInPlaylist(item))\n      addToPlaylist(item._id, video, dataDispatch, openAlert);\n    else removeFromPlaylist(item?._id, video?._id, dataDispatch, openAlert);\n  };\n\n  return (\n    <div className=\"playlist scrollbar\">\n      {playlists?.map((item) => (\n        <div className=\"playlist__input-container\" key={item._id}>\n          <input\n            type=\"checkbox\"\n            className=\"playlist__input\"\n            value={item._id}\n            checked={isVideoInPlaylist(item)}\n            onChange={() => handleAddRemove(item)}\n          />\n          <label className=\"playlist__label\" htmlFor={item._id}>\n            {item.title}\n          </label>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default Playlist;\n","import React from \"react\";\n\nimport Modal from \"../Modal/Modal\";\nimport PlaylistInput from \"./PlaylistInput\";\nimport Playlist from \"./Playlist\";\n\nimport { useDataContext } from \"../../context\";\n\nimport \"./playlist-modal.scss\";\n\nconst PlayListModal = () => {\n  const {\n    dataState: {\n      playlist: { playlistModal, items: playlists },\n    },\n    handlers: { closePModal },\n  } = useDataContext();\n\n  return (\n    <Modal open={playlistModal} onClose={closePModal}>\n      {playlists?.length > 0 && <Playlist playlists={playlists} />}\n      <PlaylistInput />\n    </Modal>\n  );\n};\n\nexport default PlayListModal;\n","import { Navigate, useLocation } from \"react-router-dom\";\nimport { useAuthContext } from \"../context\";\n\nconst PreventedRoutes = ({ children }) => {\n  const {\n    authState: {\n      user: { token },\n    },\n  } = useAuthContext();\n\n  const location = useLocation();\n  const pathName = location?.state?.from?.pathname || \"/explore\";\n\n  if (token) {\n    return <Navigate to={pathName} state={{ from: location }} replace />;\n  }\n\n  return children;\n};\n\nexport default PreventedRoutes;\n","import { Navigate, useLocation } from \"react-router-dom\";\nimport { useAuthContext } from \"../context\";\n\nconst ProtectedRoutes = ({ children }) => {\n  const {\n    authState: {\n      user: { token },\n    },\n  } = useAuthContext();\n\n  let location = useLocation();\n\n  if (!token) {\n    return <Navigate to=\"/signin\" replace state={{ from: location }} />;\n  }\n\n  return children;\n};\n\nexport default ProtectedRoutes;\n","export default __webpack_public_path__ + \"static/media/logo1.357f61ad.png\";","export const validateInputs = (values) => {\n  const errors = {};\n\n  const pwdRegex =\n    /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{6,}$/;\n  const emailRegex = /^\\S+@\\S+\\.\\S+$/;\n\n  if (!values.fullName) {\n    errors.fullName = \"Full name is required!\";\n  }\n\n  if (!values.email) {\n    errors.email = \"Email is required!\";\n  } else if (!emailRegex.test(values.email)) {\n    errors.email = \"Enter a valid email!\";\n  }\n\n  if (!values.password) {\n    errors.password = \"Password is required!\";\n  } else if (!pwdRegex.test(values.password.trim())) {\n    errors.password =\n      \"Password must be 6 characters long and contain atleast 1 letter , 1 digit & 1 special character!\";\n  }\n\n  if (!values.confirmPassword || values.confirmPassword !== values.password) {\n    errors.confirmPassword = \"Passwords do not match!\";\n  }\n\n  return errors;\n};\n\nexport const testCredentials = {\n  email: \"test@gmail.com\",\n  password: \"tesT@123\",\n};\n\nexport const initialFormValues = {\n  email: \"\",\n  password: \"\",\n  fullName: \"\",\n  confirmPassword: \"\",\n};\n","import axios from \"axios\";\n\nimport { authActions } from \"../context\";\n\n// Auth\nexport const loginUser = async (payload, dispatch, openAlert) => {\n  try {\n    dispatch({ type: authActions.LOADING, payload: true });\n    const response = await axios.post(\n      `${process.env.REACT_APP_URL}/auth/login`,\n      payload\n    );\n\n    if (response.status === 200) {\n      openAlert({ message: \"Successfully signed in!\", type: \"success\" });\n      dispatch({\n        type: authActions.LOAD_USER,\n        payload: {\n          token: response.data.encodedToken,\n          user: response.data.foundUser,\n        },\n      });\n    }\n  } catch (e) {\n    openAlert({ message: e?.response?.data?.errors[0], type: \"error\" });\n  }\n};\n\nexport const registerUser = async (payload, dispatch, openAlert) => {\n  try {\n    dispatch({ type: authActions.LOADING, payload: true });\n    const response = await axios.post(\n      `${process.env.REACT_APP_URL}/auth/signup`,\n      payload\n    );\n\n    if (response.status === 201) {\n      openAlert({\n        message: \"Successfully created an account with us!\",\n        type: \"success\",\n      });\n      dispatch({\n        type: authActions.LOAD_USER,\n        payload: {\n          token: response.data.encodedToken,\n          user: response.data.createdUser,\n        },\n      });\n    }\n  } catch (e) {\n    openAlert({ message: e?.response?.data?.errors[0], type: \"error\" });\n  }\n};\n","import { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport \"./auth.scss\";\n\nimport sketchLogo from \"../../assets/logo1.png\";\nimport { InputField } from \"../../components\";\n\nimport { testCredentials, initialFormValues } from \"./helper\";\nimport { loginUser } from \"../../services/authentication\";\nimport { useAuthContext, useGlobalContext } from \"../../context\";\n\nconst Signin = () => {\n  const { authDispatch } = useAuthContext();\n  const {\n    globalHandlers: { openAlert },\n  } = useGlobalContext();\n\n  const [userData, setUserData] = useState({ ...initialFormValues });\n\n  const handleChange = ({ target: { name, value } }) =>\n    setUserData((data) => ({ ...data, [name]: value }));\n\n  //Test Credentials\n  const handleAuthwithTestCred = (e) => {\n    e.preventDefault();\n    setUserData(testCredentials);\n  };\n\n  const handleAuth = (e) => {\n    e.preventDefault();\n\n    loginUser(\n      { email: userData.email, password: userData.password },\n      authDispatch,\n      openAlert\n    );\n    setUserData({ ...initialFormValues });\n  };\n\n  return (\n    <section className=\"flex flex-center auth-section pad-default\">\n      <div className=\"auth-container\">\n        <img\n          src={sketchLogo}\n          alt=\"sketch logo\"\n          className=\"auth-container__logo\"\n        />\n\n        <p className=\"para-lg center-aligned t-margin-md\">Sign In</p>\n\n        <form onSubmit={(e) => handleAuth(e)}>\n          <InputField\n            type=\"email\"\n            label=\"Email\"\n            name=\"email\"\n            autoFocus\n            required\n            value={userData.email}\n            onChange={handleChange}\n          />\n          <InputField\n            type=\"password\"\n            label=\"Password\"\n            name=\"password\"\n            required\n            value={userData.password}\n            onChange={handleChange}\n          />\n\n          <button\n            className=\"btn btn-contained defaultDark block-btn btn-md t-margin-sm\"\n            type=\"submit\"\n          >\n            Sign In\n          </button>\n        </form>\n\n        <div className=\"t-margin-md center-aligned signup-route\">\n          <span> New to Drawflix? </span>\n          <Link to=\"/signup\" className=\"btn-link\">\n            Create an account\n          </Link>\n        </div>\n        <button className=\"test-cred\" onClick={handleAuthwithTestCred}>\n          Use Test Credentials\n        </button>\n      </div>\n    </section>\n  );\n};\n\nexport default Signin;\n","import { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport \"./auth.scss\";\n\nimport sketchLogo from \"../../assets/logo1.png\";\nimport { InputField } from \"../../components\";\n\nimport { initialFormValues, validateInputs } from \"./helper\";\n\nimport { registerUser } from \"../../services/authentication\";\nimport { useAuthContext, useGlobalContext } from \"../../context\";\n\nconst Signup = () => {\n  const { authDispatch } = useAuthContext();\n  const {\n    globalHandlers: { openAlert },\n  } = useGlobalContext();\n\n\n  const [userData, setUserData] = useState({ ...initialFormValues });\n  const [errors, setErrors] = useState({});\n\n  const handleChange = ({ target: { name, value } }) =>\n    setUserData((data) => ({ ...data, [name]: value }));\n\n  const handleAuth = (e) => {\n    e.preventDefault();\n    const err = validateInputs(userData, true);\n    setErrors(err);\n\n    if (Object.keys(err).length === 0) {\n      registerUser(\n        {\n          email: userData.email,\n          password: userData.password,\n          fullName: userData.fullName,\n        },\n        authDispatch,\n        openAlert\n      );\n      setUserData({ ...initialFormValues });\n    }\n  };\n\n  return (\n    <section className=\"flex flex-center auth-section pad-default\">\n      <div className=\"auth-container\">\n        <img\n          src={sketchLogo}\n          alt=\"sketch logo\"\n          className=\"auth-container__logo\"\n        />\n\n        <p className=\"para-lg center-aligned t-margin-md\">Sign Up</p>\n\n        <InputField\n          type=\"text\"\n          label=\"Full Name\"\n          name=\"fullName\"\n          autoFocus\n          value={userData.fullName}\n          onChange={handleChange}\n          errorMessage={errors.fullName}\n        />\n\n        <InputField\n          type=\"email\"\n          label=\"Email\"\n          name=\"email\"\n          value={userData.email}\n          onChange={handleChange}\n          errorMessage={errors.email}\n        />\n\n        <InputField\n          type=\"password\"\n          label=\"Password\"\n          name=\"password\"\n          value={userData.password}\n          onChange={handleChange}\n          errorMessage={errors.password}\n        />\n\n        <InputField\n          type=\"password\"\n          label=\"Confirm Password\"\n          name=\"confirmPassword\"\n          value={userData.confirmPassword}\n          onChange={handleChange}\n          errorMessage={errors.confirmPassword}\n        />\n\n        <button\n          className=\"btn btn-contained defaultDark block-btn btn-md t-margin-sm\"\n          onClick={handleAuth}\n        >\n          Sign In\n        </button>\n\n        <div className=\"t-margin-md center-aligned signup-route\">\n          <span> Already have an account? </span>\n          <Link to=\"/signin\" className=\"btn-link\">\n            Sign In\n          </Link>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default Signup;\n","import { Link } from \"react-router-dom\";\n\nimport \"./home.scss\";\n\nexport default function Home() {\n  return (\n    <section className=\"home-section flex flex-center\">\n      <div>\n        <h2 className=\"h2 center-aligned\">\n          DrawFlix a community for creative people!\n        </h2>\n        <p className=\"para-md center-aligned\">\n          Learn from expert professionals\n        </p>\n        <div className=\"flex flex-center gap-md t-margin-md\">\n          <Link\n            to=\"/explore\"\n            className=\"btn btn-contained btn-md secondaryLight\"\n          >\n            View Videos\n          </Link>\n          <Link to=\"/signup\" className=\"btn btn-contained btn-md defaultDark\">\n            Create Account\n          </Link>\n        </div>\n      </div>\n    </section>\n  );\n}\n","import axios from \"axios\";\n\nimport { videoConstants } from \"../context\";\n\n//Videos\nexport const loadVideos = async (dispatch) => {\n  try {\n    dispatch({ type: videoConstants.LOADING });\n    const response = await axios.get(`${process.env.REACT_APP_URL}/videos`);\n\n    if (response.status === 200) {\n      dispatch({\n        type: videoConstants.GET_VIDEOS,\n        payload: response.data.videos,\n      });\n    }\n  } catch (e) {\n    dispatch({\n      type: videoConstants.ERROR,\n      payload: \"Oops! Something went wrong :(\",\n    });\n  }\n};\n\nexport const loadSingleVideo = async (id, dispatch) => {\n  try {\n    dispatch({ type: videoConstants.LOADING });\n    const response = await axios.get(\n      `${process.env.REACT_APP_URL}/video/${id}`\n    );\n\n    if (response.status === 200) {\n      dispatch({\n        type: videoConstants.GET_VIDEO,\n        payload: response.data.video,\n      });\n    }\n  } catch (e) {\n    dispatch({\n      type: videoConstants.ERROR,\n      payload: \"The requested video can not loaded!\",\n    });\n  }\n};\n\nexport const getCategories = async (setCategories) => {\n  try {\n    const response = await axios.get(`${process.env.REACT_APP_URL}/categories`);\n\n    if (response.status === 200) {\n      setCategories(response?.data.categories);\n    }\n  } catch (e) {\n    console.log(e);\n  }\n};","import { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport ReactPlayer from \"react-player/youtube\";\n\nimport { Loader } from \"../../components\";\nimport { EmptyState } from \"..\";\n\nimport {\n  useDataContext,\n  useGlobalContext,\n  useAuthContext,\n} from \"../../context\";\nimport { loadSingleVideo } from \"../../services/videos\";\n\nimport { AiOutlineLike, AiFillLike } from \"react-icons/ai\";\nimport { MdOutlineAccessTime, MdOutlineAccessTimeFilled } from \"react-icons/md\";\nimport { CgPlayListAdd } from \"react-icons/cg\";\n\nimport { addToLiked, removeFromLiked } from \"../../services/likes\";\nimport {\n  addToWatchLater,\n  removeFromWatchLater,\n} from \"../../services/watchlater\";\nimport { addToHistory } from \"../../services/history\";\n\nimport \"./video-page.scss\";\n\nconst Video = () => {\n  const params = useParams();\n  const videoId = params.id;\n\n  const navigate = useNavigate();\n  const [readMore, setReadMore] = useState(false);\n\n  const {\n    dataState: {\n      vid: { loading, error, single_video },\n      liked: { items: likedVideos },\n      watchLater: { items: watchLaterVideos },\n      history: { items: historyVideos },\n    },\n    dataDispatch,\n    handlers: { openPModal },\n  } = useDataContext();\n  const {\n    globalHandlers: { openAlert },\n  } = useGlobalContext();\n  const {\n    authState: {\n      user: { token },\n    },\n  } = useAuthContext();\n\n  const inLikedVideos = likedVideos.some(\n    (item) => item._id === single_video._id\n  );\n  const inWatchLater = watchLaterVideos.some(\n    (item) => item._id === single_video._id\n  );\n  const inHistory = historyVideos.some((item) => item._id === single_video._id);\n\n  const handleLike = () => {\n    if (token) {\n      if (inLikedVideos) removeFromLiked(videoId, dataDispatch, openAlert);\n      else addToLiked(single_video, dataDispatch, openAlert);\n    } else navigate(\"/signin\");\n  };\n\n  const handleWatchLater = () => {\n    if (token) {\n      if (inWatchLater) removeFromWatchLater(videoId, dataDispatch, openAlert);\n      else addToWatchLater(single_video, dataDispatch, openAlert);\n    } else {\n      navigate(\"/signin\");\n    }\n  };\n\n  const handleHistory = () => {\n    if (token && !inHistory) {\n      addToHistory(single_video, dataDispatch, openAlert);\n    }\n  };\n\n  const handleOpenPlaylist = () => {\n    if (token) {\n      openPModal(single_video);\n    } else openAlert({ message: \"You need to login first!\", type: \"warning\" });\n  };\n\n  useEffect(() => {\n    loadSingleVideo(videoId, dataDispatch);\n  }, [dataDispatch]);\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  if (error) {\n    return <EmptyState msg={error} type=\"error\" path=\"/explore\" />;\n  }\n\n  const { _id, title, categoryName, creatorImg, creator, description } =\n    single_video;\n\n  return (\n    <section className=\"video-section pad-default\">\n      <div className=\"video-section__display\">\n        <div className=\"video-section__frame\">\n          <ReactPlayer\n            width=\"100%\"\n            height=\"100%\"\n            controls\n            playing={true}\n            url={`https://www.youtube-nocookie.com/embed/${videoId}`}\n            onStart={handleHistory}\n          />\n        </div>\n\n        <div className=\"video-section__content\">\n          <div className=\"t-margin-md flex flex-space-between flex-center-y b-margin-sm\">\n            <span className=\"video-section__title\">{title}</span>\n\n            <ul className=\"video-section__menu\">\n              <li onClick={handleLike}>\n                {inLikedVideos && token ? (\n                  <AiFillLike className=\"item-active\" />\n                ) : (\n                  <AiOutlineLike />\n                )}\n              </li>\n              <li onClick={handleWatchLater}>\n                {inWatchLater && token ? (\n                  <MdOutlineAccessTimeFilled className=\"item-active\" />\n                ) : (\n                  <MdOutlineAccessTime />\n                )}\n              </li>\n              <li onClick={handleOpenPlaylist}>\n                <CgPlayListAdd />\n              </li>\n            </ul>\n          </div>\n          <p className=\"divider\"></p>\n          <div className=\"video-section__creator-details flex flex-center-y\">\n            <figure className=\"avatar avatar-lg\">\n              <img\n                className=\"avatar-img\"\n                src={creatorImg}\n                alt=\"creator image\"\n              />\n            </figure>\n            <p>{creator}</p>\n            <span>|</span>\n            <p>{categoryName}</p>\n          </div>\n          <p className=\"divider\"></p>\n\n          <p className=\"video-section__description\">\n            {readMore ? description : `${description?.substr(0, 200)}... `}\n            <button\n              onClick={() => setReadMore((val) => !val)}\n              className=\"video-section__description__btn\"\n            >\n              {readMore ? \"Read Less\" : \"Read More\"}\n            </button>\n          </p>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default Video;\n","export default __webpack_public_path__ + \"static/media/error.c09ef676.png\";","export default __webpack_public_path__ + \"static/media/no-video.c6274092.png\";","export default __webpack_public_path__ + \"static/media/pageNotFound.195b4447.png\";","import { useNavigate } from \"react-router-dom\";\n\nimport \"./empty-state.scss\";\nimport errorImage from \"../../assets/error.png\";\nimport emptyImage from \"../../assets/no-video.png\";\nimport notFoundImage from \"../../assets/pageNotFound.png\";\n\nconst EmptyState = ({\n  msg = \"Unable to fetch data. Check your internet connection!\",\n  imgSrc,\n  buttonText = \"Go back\",\n  path,\n  type,\n}) => {\n  const navigate = useNavigate();\n\n  let image = null;\n\n  switch (type) {\n    case \"error\":\n      image = errorImage;\n      break;\n    case \"empty\":\n      image = emptyImage;\n      break;\n    case \"not found\":\n      image = notFoundImage;\n      break;\n  }\n\n  return (\n    <section className=\"error-section\">\n      <img\n        src={type ? image : imgSrc}\n        alt={`${type} image`}\n        className=\"error-img\"\n      />\n      <div>\n        <p className=\"error-text t-margin-sm b-margin-sm\">{msg}</p>\n        {path ? (\n          <button\n            className=\"btn btn-contained secondaryLight btn-sm empty-btn\"\n            onClick={() => navigate(path)}\n          >\n            {buttonText}\n          </button>\n        ) : null}\n      </div>\n    </section>\n  );\n};\n\nexport default EmptyState;\n","import { useEffect, useState } from \"react\";\n\nimport { useDataContext } from \"../../context\";\n\nimport { loadVideos, getCategories } from \"../../services/videos\";\nimport { Loader, VideoCard, SearchFilter } from \"../../components\";\nimport EmptyState from \"../EmptyState/EmptyState\";\n\nimport \"./video-listing.scss\";\n\nconst VideoListing = () => {\n  const {\n    dataState: {\n      vid: { loading, error },\n    },\n    dataDispatch,\n    filteredVideos,\n  } = useDataContext();\n\n  const [categories, setCategories] = useState([]);\n\n  useEffect(() => {\n    if (filteredVideos?.length === 0) loadVideos(dataDispatch);\n  }, []);\n\n  useEffect(() => {\n    if (categories.length === 0) getCategories(setCategories);\n  }, []);\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  if (error) {\n    return <EmptyState msg={error} type=\"error\" />;\n  }\n\n  return (\n    <section className=\"explore-section pad-default\">\n      <SearchFilter categories={categories} />\n      {filteredVideos.length !== 0 ? (\n        <div className=\"explore-section__videos\">\n          {filteredVideos?.map((video) => (\n            <VideoCard key={video._id} {...video} />\n          ))}\n        </div>\n      ) : (\n        <EmptyState type=\"empty\" msg=\"No videos found!\" />\n      )}\n    </section>\n  );\n};\n\nexport default VideoListing;\n","import { useDataContext } from \"../../context\";\n\nimport EmptyState from \"../EmptyState/EmptyState\";\nimport { Loader, VideoCard } from \"../../components\";\n\nimport \"./liked.scss\";\n\nconst Liked = () => {\n  const { dataState } = useDataContext();\n\n  const {\n    liked: { loading, error, items: likedVideos },\n  } = dataState;\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  if (error) {\n    <EmptyState msg={error} type=\"error\" path=\"/explore\" />;\n  }\n\n  return (\n    <section className=\"liked-section pad-default\">\n      {likedVideos?.length === 0 ? (\n        <EmptyState\n          type=\"empty\"\n          msg=\"You haven't liked any video...\"\n          path=\"/explore\"\n          buttonText=\"browse\"\n        />\n      ) : (\n        <>\n          <h1 className=\"h3 b-margin-lg\">\n            Liked Videos ({likedVideos?.length})\n          </h1>\n\n          <div className=\"liked-section__videos\">\n            {likedVideos?.map((video) => (\n              <VideoCard key={video._id} {...video} />\n            ))}\n          </div>\n        </>\n      )}\n    </section>\n  );\n};\n\nexport default Liked;\n","import { useDataContext, useGlobalContext } from \"../../context\";\n\nimport EmptyState from \"../EmptyState/EmptyState\";\nimport { Loader, HorizontalCard } from \"../../components\";\nimport { clearHistory } from \"../../services/history\";\n\nimport \"./history.scss\";\n\nconst History = () => {\n  const {\n    dataState: {\n      history: { loading, error, items: historyVideos },\n    },\n    dataDispatch,\n  } = useDataContext();\n  const {\n    globalHandlers: { openAlert },\n  } = useGlobalContext();\n\n  const handleClearHistory = () => {\n    clearHistory(dataDispatch, openAlert);\n  };\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  if (error) {\n    <EmptyState msg={error} type=\"error\" path=\"/explore\" />;\n  }\n\n  return (\n    <section className=\"history-section pad-default\">\n      {historyVideos?.length === 0 ? (\n        <EmptyState\n          type=\"empty\"\n          msg=\"You haven't watched any video...\"\n          path=\"/explore\"\n          buttonText=\"browse\"\n        />\n      ) : (\n        <>\n          <div className=\"flex flex-space-between flex-center-y\">\n            <h1 className=\"h3 b-margin-lg\">\n              History ({historyVideos?.length})\n            </h1>\n            <button\n              className=\"btn btn-contained danger btn-md\"\n              onClick={handleClearHistory}\n            >\n              Clear History\n            </button>\n          </div>\n\n          <div className=\"history-section__videos\">\n            {historyVideos?.map((video) => (\n              <HorizontalCard key={video._id} video={video} type=\"history\" />\n            ))}\n          </div>\n        </>\n      )}\n    </section>\n  );\n};\n\nexport default History;\n","import { useDataContext } from \"../../context\";\n\nimport EmptyState from \"../EmptyState/EmptyState\";\nimport { Loader, VideoCard } from \"../../components\";\n\nimport \"./water-later.scss\";\n\nconst WatchLater = () => {\n  const { dataState } = useDataContext();\n\n  const {\n    watchLater: { loading, error, items: watchLaterVideos },\n  } = dataState;\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  if (error) {\n    <EmptyState msg={error} type=\"error\" path=\"/explore\" />;\n  }\n\n  return (\n    <section className=\"watchLater-section pad-default\">\n      {watchLaterVideos?.length === 0 ? (\n        <EmptyState\n          type=\"empty\"\n          msg=\"You haven't added any video to watch list...\"\n          path=\"/explore\"\n          buttonText=\"browse\"\n        />\n      ) : (\n        <>\n          <h1 className=\"h3 b-margin-lg\">\n            Videos to Watch Later ({watchLaterVideos?.length})\n          </h1>\n\n          <div className=\"watchLater-section__videos\">\n            {watchLaterVideos?.map((video) => (\n              <VideoCard key={video._id} {...video} />\n            ))}\n          </div>\n        </>\n      )}\n    </section>\n  );\n};\n\nexport default WatchLater;\n","import { useState, useEffect } from \"react\";\n\nimport \"./playlists.scss\";\n\nimport { EmptyState } from \"../\";\nimport { Loader, HorizontalCard } from \"../../components\";\nimport { useDataContext, useGlobalContext } from \"../../context\";\nimport { deletePlaylist } from \"../../services/playlists\";\n\nconst Playlists = () => {\n  const [playlistId, setplaylistId] = useState(\"\");\n\n  const {\n    dataState: { playlist },\n    dataDispatch,\n    handlers: { openPModal },\n  } = useDataContext();\n  const {\n    globalHandlers: { openAlert },\n  } = useGlobalContext();\n\n  const { loading, items: playlists, error } = playlist;\n\n  const handleCreate = () => openPModal();\n\n  const handleDelete = (e, id) => {\n    e.stopPropagation();\n    deletePlaylist(id, dataDispatch, openAlert);\n  };\n\n  const displayPlaylist =\n    playlists.filter((item) => item._id === playlistId)[0] || {};\n\n  useEffect(() => {\n    if (playlists.length !== 0) {\n      setplaylistId(playlists[0]._id);\n    }\n  }, [playlists]);\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  if (error) {\n    <EmptyState msg={error} type=\"error\" path=\"/explore\" />;\n  }\n\n  return (\n    <section className=\"playlist-section pad-default\">\n      <div className=\"playlist-tabs scrollbar\">\n        <div className=\"flex flex-space-between flex-center-y\">\n          <p className=\"h4\">All Playlists</p>\n          <button\n            className=\"btn btn-contained btn-sm defaultDark\"\n            onClick={handleCreate}\n          >\n            Create\n          </button>\n        </div>\n\n        {playlists?.map((item) => (\n          <div\n            className=\"playlist-tabs__tab\"\n            key={item._id}\n            onClick={() => setplaylistId(item._id)}\n          >\n            <p className=\"playlist-tabs__tab__title\">{item.title}</p>\n\n            <div className=\"flex flex-space-between flex-center-y\">\n              <span className=\"playlist-tabs__tab__length\">\n                <i className=\"fa-solid fa-play\"></i> {item?.videos.length}{\" \"}\n                Videos\n              </span>\n              <button\n                className=\"btn btn-icon btn-sm danger\"\n                onClick={(e) => handleDelete(e, item._id)}\n              >\n                <i className=\"fa-solid fa-trash\"></i>\n              </button>\n            </div>\n          </div>\n        ))}\n      </div>\n      <div className=\"playlist-info scrollbar\">\n        <span className=\"playlist-info__title\">{displayPlaylist?.title}</span>\n        {Object.keys(displayPlaylist).length > 0 ? (\n          <div className=\"playlist-info__videos\">\n            {displayPlaylist?.videos?.length === 0 ? (\n              <EmptyState\n                type=\"empty\"\n                msg=\"Your playlist is empty! :( Add videos...\"\n                buttonText=\"browse\"\n                path=\"/explore\"\n              />\n            ) : (\n              displayPlaylist?.videos?.map((item) => (\n                <HorizontalCard\n                  key={item._id}\n                  video={item}\n                  playlistId={displayPlaylist._id}\n                />\n              ))\n            )}\n          </div>\n        ) : (\n          <EmptyState\n            type=\"empty\"\n            msg=\"Look's like you don't have any playlist!\"\n            buttonText=\"browse\"\n            path=\"/explore\"\n          />\n        )}\n      </div>\n    </section>\n  );\n};\n\nexport default Playlists;\n","import { Routes, Route } from \"react-router-dom\";\n\nimport PreventedRoutes from \"./PreventedRoutes\";\nimport ProtectedRoutes from \"./ProtectedRoutes\";\n\nimport {\n  Home,\n  VideoListing,\n  SignIn,\n  SignUp,\n  VideoPage,\n  Liked,\n  WatchLater,\n  History,\n  EmptyState,\n  Playlists,\n} from \"../pages\";\nimport Mockman from \"mockman-js\";\n\nconst AllRoutes = () => {\n  return (\n    <Routes>\n      {/* Public Routes */}\n      <Route path=\"/\" element={<Home />} />\n      <Route path=\"/explore\" element={<VideoListing />} />\n      <Route path=\"/explore/:id\" element={<VideoPage />} />\n      {/* Protected Routes */}\n      <Route\n        path=\"/liked\"\n        element={\n          <ProtectedRoutes>\n            <Liked />\n          </ProtectedRoutes>\n        }\n      />\n      <Route\n        path=\"/watchlater\"\n        element={\n          <ProtectedRoutes>\n            <WatchLater />\n          </ProtectedRoutes>\n        }\n      />\n      <Route\n        path=\"/history\"\n        element={\n          <ProtectedRoutes>\n            <History />\n          </ProtectedRoutes>\n        }\n      />\n      <Route\n        path=\"/playlists\"\n        element={\n          <ProtectedRoutes>\n            <Playlists />\n          </ProtectedRoutes>\n        }\n      />\n      <Route\n        path=\"/playlists/:id\"\n        element={<ProtectedRoutes></ProtectedRoutes>}\n      />\n      {/* Prevented Routes */}\n      <Route\n        path=\"/signin\"\n        element={\n          <PreventedRoutes>\n            <SignIn />\n          </PreventedRoutes>\n        }\n      />\n      <Route\n        path=\"/signup\"\n        element={\n          <PreventedRoutes>\n            <SignUp />\n          </PreventedRoutes>\n        }\n      />\n      <Route path=\"/mockman\" element={<Mockman />} />;\n      <Route\n        path=\"*\"\n        element={\n          <EmptyState\n            type=\"not found\"\n            msg=\"The page you are looking for does not exist!\"\n          />\n        }\n      />\n    </Routes>\n  );\n};\n\nexport default AllRoutes;\n","import \"./App.scss\";\n\nimport { Footer, Navbar, Alert, PlayListModal } from \"./components\";\nimport AllRoutes from \"./routes/AllRoutes\";\n\nconst App = () => {\n  return (\n    <main>\n      <Navbar />\n      <section className=\"main-section\">\n        <Alert />\n        <PlayListModal />\n        <AllRoutes />\n      </section>\n      <Footer />\n    </main>\n  );\n};\n\nexport default App;\n","import { Response } from \"miragejs\";\nimport dayjs from \"dayjs\";\nimport jwt_decode from \"jwt-decode\";\n\nexport const requiresAuth = function (request) {\n  const encodedToken = request.requestHeaders.authorization;\n  const decodedToken = jwt_decode(\n    encodedToken,\n    process.env.REACT_APP_JWT_SECRET\n  );\n  if (decodedToken) {\n    const user = this.db.users.findBy({ email: decodedToken.email });\n    return user;\n  }\n  return new Response(\n    401,\n    {},\n    { errors: [\"The token is invalid. Unauthorized access error.\"] }\n  );\n};\n\nexport const formatDate = () => dayjs().format(\"YYYY-MM-DDTHH:mm:ssZ\");\n","import { v4 as uuid } from \"uuid\";\nimport { Response } from \"miragejs\";\nimport { formatDate } from \"../utils/authUtils\";\nconst sign = require(\"jwt-encode\");\n/**\n * All the routes related to Auth are present here.\n * These are Publicly accessible routes.\n * */\n\n/**\n * This handler handles user signups.\n * send POST Request at /api/auth/signup\n * body contains {firstName, lastName, email, password}\n * */\n\nexport const signupHandler = function (schema, request) {\n  const { email, password, ...rest } = JSON.parse(request.requestBody);\n  try {\n    // check if email already exists\n    const foundUser = schema.users.findBy({ email });\n    if (foundUser) {\n      return new Response(\n        422,\n        {},\n        {\n          errors: [\"Unprocessable Entity. Email Already Exists.\"],\n        }\n      );\n    }\n    const _id = uuid();\n    const newUser = {\n      _id,\n      email,\n      password,\n      createdAt: formatDate(),\n      updatedAt: formatDate(),\n      ...rest,\n      likes: [],\n      history: [],\n      playlists: [],\n      watchlater: [],\n    };\n    const createdUser = schema.users.create(newUser);\n    const encodedToken = sign({ _id, email }, process.env.REACT_APP_JWT_SECRET);\n    return new Response(201, {}, { createdUser, encodedToken });\n  } catch (error) {\n    return new Response(\n      500,\n      {},\n      {\n        error,\n      }\n    );\n  }\n};\n\n/**\n * This handler handles user login.\n * send POST Request at /api/auth/login\n * body contains {email, password}\n * */\n\nexport const loginHandler = function (schema, request) {\n  const { email, password } = JSON.parse(request.requestBody);\n  try {\n    const foundUser = schema.users.findBy({ email });\n    if (!foundUser) {\n      return new Response(\n        404,\n        {},\n        { errors: [\"The email you entered is not Registered. Not Found error\"] }\n      );\n    }\n    if (password === foundUser.password) {\n      const encodedToken = sign(\n        { _id: foundUser._id, email },\n        process.env.REACT_APP_JWT_SECRET\n      );\n      foundUser.password = undefined;\n      return new Response(200, {}, { foundUser, encodedToken });\n    }\n    return new Response(\n      401,\n      {},\n      {\n        errors: [\n          \"The credentials you entered are invalid. Unauthorized access error.\",\n        ],\n      }\n    );\n  } catch (error) {\n    return new Response(\n      500,\n      {},\n      {\n        error,\n      }\n    );\n  }\n};\n","import { Response } from \"miragejs\";\nimport { requiresAuth } from \"../utils/authUtils\";\n\n/**\n * All the routes related to User History are present here.\n * These are private routes.\n * Client needs to add \"authorization\" header with JWT token in it to access it.\n * */\n\n/**\n * This handler handles getting videos from user's history.\n * send GET Request at /api/user/history\n * */\nexport const getHistoryVideosHandler = function (schema, request) {\n  const user = requiresAuth.call(this, request);\n  try {\n    if (!user) {\n      return new Response(\n        404,\n        {},\n        {\n          errors: [\"The email you entered is not Registered. Not Found error\"],\n        }\n      );\n    }\n    return new Response(200, {}, { history: user.history });\n  } catch (error) {\n    return new Response(\n      500,\n      {},\n      {\n        error,\n      }\n    );\n  }\n};\n\n/**\n * This handler handles adding videos to user's history.\n * send POST Request at /api/user/history\n * body contains {video}\n * */\n\nexport const addVideoToHistoryHandler = function (schema, request) {\n  const user = requiresAuth.call(this, request);\n  try {\n    if (!user) {\n      return new Response(\n        404,\n        {},\n        {\n          errors: [\"The email you entered is not Registered. Not Found error\"],\n        }\n      );\n    }\n    const { video } = JSON.parse(request.requestBody);\n    if (user.history.some((item) => item._id === video._id)) {\n      return new Response(\n        409,\n        {},\n        {\n          errors: [\"The video is already in your history\"],\n        }\n      );\n    }\n    user.history.push(video);\n    return new Response(201, {}, { history: user.history });\n  } catch (error) {\n    return new Response(\n      500,\n      {},\n      {\n        error,\n      }\n    );\n  }\n};\n\n/**\n * This handler handles removing videos from user's history.\n * send DELETE Request at /api/user/history/:videoId\n * */\n\nexport const removeVideoFromHistoryHandler = function (schema, request) {\n  const user = requiresAuth.call(this, request);\n  try {\n    if (!user) {\n      return new Response(\n        404,\n        {},\n        {\n          errors: [\"The email you entered is not Registered. Not Found error\"],\n        }\n      );\n    }\n    const videoId = request.params.videoId;\n    const filteredHistory = user.history.filter((item) => item._id !== videoId);\n    this.db.users.update({ history: filteredHistory });\n    return new Response(200, {}, { history: filteredHistory });\n  } catch (error) {\n    return new Response(\n      500,\n      {},\n      {\n        error,\n      }\n    );\n  }\n};\n\n/**\n * This handler handles removing videos from user's history.\n * send DELETE Request at /api/user/history/all\n * */\n\nexport const clearHistoryHandler = function (schema, request) {\n  const user = requiresAuth.call(this, request);\n  try {\n    if (!user) {\n      return new Response(\n        404,\n        {},\n        {\n          errors: [\"The email you entered is not Registered. Not Found error\"],\n        }\n      );\n    }\n    this.db.users.update({ history: [] });\n    return new Response(200, {}, { history: [] });\n  } catch (error) {\n    return new Response(\n      500,\n      {},\n      {\n        error,\n      }\n    );\n  }\n};\n","import { Response } from \"miragejs\";\n\n/**\n * All the routes related to Videos are present here.\n * These are Publicly accessible routes.\n * */\n\n/**\n * This handler handles gets all videos in the db.\n * send GET Request at /api/videos\n * */\n\nexport const getAllVideosHandler = function () {\n  try {\n    return new Response(200, {}, { videos: this.db.videos });\n  } catch (error) {\n    return new Response(\n      500,\n      {},\n      {\n        error,\n      }\n    );\n  }\n};\n\n/**\n * This handler handles uploads a new video to the db.\n * send POST Request at /api/user/videos/\n * */\n\n// TODO: postVideoHandler\n\n/**\n * This handler handles gets all videos in the db.\n * send GET Request at /api/user/videos/:videoId\n * */\n\nexport const getVideoHandler = function (schema, request) {\n  const { videoId } = request.params;\n  try {\n    const video = schema.videos.findBy({ _id: videoId }).attrs;\n    return new Response(200, {}, { video });\n  } catch (error) {\n    return new Response(\n      500,\n      {},\n      {\n        error,\n      }\n    );\n  }\n};\n","export const videos = [\n  {\n    _id: \"eNtv1_8MQds\",\n    title: \"How to draw a Manga Page\",\n    description:\n      \"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.\",\n    categoryName: \"Manga\",\n    creatorImg:\n      \"https://yt3.ggpht.com/ytc/AKedOLTBSdm3gfTtP-OU67n8FbIu40a_zE5ZOaB1GFYx=s176-c-k-c0x00ffffff-no-rj\",\n    creator: \"Drawlikeasir\",\n    stats: {\n      viewCount: \"3057\",\n    },\n  },\n  {\n    _id: \"m583-GDIFCQ\",\n    title: \"HOW TO DRAW MUSCLES IN 10 MINUTES\",\n    creator: \"Drawlikeasir\",\n    categoryName: \"Manga, Anatomy\",\n    creatorImg:\n      \"https://yt3.ggpht.com/ytc/AKedOLTBSdm3gfTtP-OU67n8FbIu40a_zE5ZOaB1GFYx=s176-c-k-c0x00ffffff-no-rj\",\n    description:\n      \"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.\",\n    stats: {\n      viewCount: \"132\",\n    },\n  },\n  {\n    _id: \"5W3Wj-a_7Vo\",\n    title: \"How to DRAW FACES\",\n    creator: \"Drawlikeasir\",\n    categoryName: \"Manga, Anatomy\",\n    creatorImg:\n      \"https://yt3.ggpht.com/ytc/AKedOLTBSdm3gfTtP-OU67n8FbIu40a_zE5ZOaB1GFYx=s176-c-k-c0x00ffffff-no-rj\",\n    description:\n      \"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.\",\n    stats: {\n      viewCount: \"1653\",\n    },\n  },\n  ,\n  {\n    _id: \"aLUI7M7MW3w\",\n    title: \"How to draw HAIR\",\n    creator: \"Drawlikeasir\",\n    categoryName: \"Manga, Anatomy\",\n    description:\n      \"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.\",\n    creatorImg:\n      \"https://yt3.ggpht.com/ytc/AKedOLTBSdm3gfTtP-OU67n8FbIu40a_zE5ZOaB1GFYx=s176-c-k-c0x00ffffff-no-rj\",\n    stats: {\n      viewCount: \"453\",\n    },\n  },\n  {\n    _id: \"aPflB7_XXaY\",\n    title: \"How to DRAW FACES\",\n    creator: \"Drawlikeasir\",\n    categoryName: \"Manga, Anatomy\",\n    creatorImg:\n      \"https://yt3.ggpht.com/ytc/AKedOLTBSdm3gfTtP-OU67n8FbIu40a_zE5ZOaB1GFYx=s176-c-k-c0x00ffffff-no-rj\",\n    description:\n      \"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.\",\n    stats: {\n      viewCount: \"4332\",\n    },\n  },\n  {\n    _id: \"yqxPHew5bGQ\",\n    title: \"How to Draw Structure in the Body - Robo Bean\",\n    creator: \"Proko\",\n    categoryName: \"Anatomy\",\n    creatorImg:\n      \"https://yt3.ggpht.com/QJ65R-XtiNccZ8OLfQRo9uJ1H5rujWLt5bF2F1gJpOs9r2Zf4flpiCidYNLVJpws3o6D7k_g_w=s176-c-k-c0x00ffffff-no-rj\",\n    description:\n      \"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.\",\n    stats: {\n      viewCount: \"412\",\n    },\n  },\n  {\n    _id: \"6T_-DiAzYBc\",\n    title: \"6 Steps to Draw Anything\",\n    creator: \"Proko\",\n    categoryName: \"Beginner\",\n    creatorImg:\n      \"https://yt3.ggpht.com/QJ65R-XtiNccZ8OLfQRo9uJ1H5rujWLt5bF2F1gJpOs9r2Zf4flpiCidYNLVJpws3o6D7k_g_w=s176-c-k-c0x00ffffff-no-rj\",\n    description:\n      \"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.\",\n    stats: {\n      viewCount: \"412\",\n    },\n  },\n  {\n    _id: \"jDvvlHONjJA\",\n    title: \"The8 | Watercolor Speedpaint | Seventeen Fanart\",\n    creator: \"Rinspirit_art\",\n    categoryName: \"Manga, Water Color\",\n    creatorImg:\n      \"  https://yt3.ggpht.com/ytc/AKedOLRrvJC8fiHPwniZZFGlf3DGWZng3tLRgCvVU2UeCA=s176-c-k-c0x00ffffff-no-rj\",\n    description:\n      \"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.\",\n    stats: {\n      viewCount: \"500\",\n    },\n  },\n  {\n    _id: \"ewMksAbgdBI\",\n    title: \"Sketching Basics + Materials\",\n    creator: \"SchaeferArt\",\n    categoryName: \"Beginner, Pencil Sketch\",\n    creatorImg:\n      \"https://yt3.ggpht.com/ytc/AKedOLRjhevbpiE8Qwdsg-p1JXpRFTSH8nMllZItibB8uQ=s176-c-k-c0x00ffffff-no-rj\",\n    description:\n      \"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.\",\n    stats: {\n      viewCount: \"347\",\n    },\n  },\n  ,\n  {\n    _id: \"nDe7kHa6MVo\",\n    title: \"Simplifying Objects + Learning to See\",\n    creator: \"SchaeferArt\",\n    categoryName: \"Beginner, Pencil Sketch\",\n    creatorImg:\n      \"https://yt3.ggpht.com/ytc/AKedOLRjhevbpiE8Qwdsg-p1JXpRFTSH8nMllZItibB8uQ=s176-c-k-c0x00ffffff-no-rj\",\n    description:\n      \"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.\",\n    stats: {\n      viewCount: \"157\",\n    },\n  },\n  {\n    _id: \"5Zc1xVS_X7Q\",\n    title: \"Shading Techniques\",\n    creator: \"SchaeferArt\",\n    categoryName: \"Beginner, Pencil Sketch\",\n    creatorImg:\n      \"https://yt3.ggpht.com/ytc/AKedOLRjhevbpiE8Qwdsg-p1JXpRFTSH8nMllZItibB8uQ=s176-c-k-c0x00ffffff-no-rj\",\n    description:\n      \"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.\",\n    stats: {\n      viewCount: \"2427\",\n    },\n  },\n  ,\n  {\n    _id: \"agir1oR0gc0\",\n    title: \"How to Draw a Tiger\",\n    creator: \"Jon Harris\",\n    categoryName: \"Pencil Sketch\",\n    creatorImg:\n      \"https://yt3.ggpht.com/ytc/AKedOLRjhevbpiE8Qwdsg-p1JXpRFTSH8nMllZItibB8uQ=s176-c-k-c0x00ffffff-no-rj\",\n    description:\n      \"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.\",\n    stats: {\n      viewCount: \"3431\",\n    },\n  },\n  {\n    _id: \"3kojEoKgrTY\",\n    title: \"Easy Watercolor Painting Ideas for Beginners Step by Step\",\n    creator: \"Makoccino\",\n    categoryName: \"Beginner, Watercolor\",\n    creatorImg:\n      \"https://yt3.ggpht.com/ytc/AKedOLSmfvw2cH44elz1AMaP-AN4IGWLdqyU3h80LDUH2g=s176-c-k-c0x00ffffff-no-rj\",\n    description:\n      \"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.\",\n    stats: {\n      viewCount: \"9867\",\n    },\n  },\n  {\n    _id: \"9P0ot0ifwXk\",\n    title:\n      \"Make Your Watercolor Painting Look MAGICAL With These Easy Watercolor Techniques & Ideas!\",\n    creator: \"Makoccino\",\n    creatorImg:\n      \"https://yt3.ggpht.com/ytc/AKedOLSmfvw2cH44elz1AMaP-AN4IGWLdqyU3h80LDUH2g=s176-c-k-c0x00ffffff-no-rj\",\n    categoryName: \"Watercolor\",\n    description:\n      \"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.\",\n    stats: {\n      viewCount: \"5344\",\n    },\n  },\n  ,\n  {\n    _id: \"tDru2siHbaM\",\n    title: \"Watercolor painting process\",\n    creator: \"HamRib Art\",\n    categoryName: \"Watercolor, Portrait\",\n    description:\n      \"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.\",\n    creatorImg:\n      \"https://yt3.ggpht.com/ytc/AKedOLRf0Q4WJiAv7FXwXpLTink80b5uax0ANq5T1I-7=s176-c-k-c0x00ffffff-no-rj\",\n    stats: {\n      viewCount: \"1978\",\n    },\n  },\n  {\n    _id: \"AWvTb69cm24\",\n    title: \"How to improve your drawing RIGHT NOW.\",\n    creator: \"Silvie Mahdal\",\n    categoryName: \"Portrait, Pencil Sketch\",\n    creatorImg:\n      \"https://yt3.ggpht.com/ytc/AKedOLT-mXRmA8fCkveQgCidHtSIunCQomLbDXQ9PJhsuQ=s176-c-k-c0x00ffffff-no-rj\",\n    description:\n      \"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.\",\n    stats: {\n      viewCount: \"543\",\n    },\n  },\n];\n","export const categories = [\n  {\n    _id: \"c1\",\n    categoryName: \"Manga\",\n  },\n  {\n    _id: \"c2\",\n    categoryName: \"Anatomy\",\n  },\n  {\n    _id: \"c3\",\n    categoryName: \"Portrait\",\n  },\n  {\n    _id: \"c4\",\n    categoryName: \"Beginner\",\n  },\n  {\n    _id: \"c5\",\n    categoryName: \"Watercolor\",\n  },\n  {\n    _id: \"c6\",\n    categoryName: \"Pencil Sketch\",\n  },\n];\n","import { Response } from \"miragejs\";\n/**\n * All the routes related to Category are present here.\n * These are Publicly accessible routes.\n * */\n\n/**\n * This handler handles gets all categories in the db.\n * send GET Request at /api/categories\n * */\n\nexport const getAllCategoriesHandler = function () {\n  try {\n    return new Response(200, {}, { categories: this.db.categories });\n  } catch (error) {\n    return new Response(\n      500,\n      {},\n      {\n        error,\n      }\n    );\n  }\n};\n\n/**\n * This handler handles gets all categories in the db.\n * send GET Request at /api/user/category/:categoryId\n * */\n\nexport const getCategoryHandler = function (schema, request) {\n  const { categoryId } = request.params;\n  try {\n    const category = schema.categories.findBy({ _id: categoryId }).attrs;\n    return new Response(200, {}, { category });\n  } catch (error) {\n    return new Response(\n      500,\n      {},\n      {\n        error,\n      }\n    );\n  }\n};\n","import { Response } from \"miragejs\";\nimport { requiresAuth } from \"../utils/authUtils\";\n\n/**\n * All the routes related to Liked Videos are present here.\n * These are private routes.\n * Client needs to add \"authorization\" header with JWT token in it to access it.\n * */\n\n/**\n * This handler handles getting videos from user's likes.\n * send GET Request at /api/user/likes\n * */\nexport const getLikedVideosHandler = function (schema, request) {\n  const user = requiresAuth.call(this, request);\n  try {\n    if (!user) {\n      return new Response(\n        404,\n        {},\n        {\n          errors: [\"The email you entered is not Registered. Not Found error\"],\n        }\n      );\n    }\n    return new Response(200, {}, { likes: user.likes });\n  } catch (error) {\n    return new Response(\n      500,\n      {},\n      {\n        error,\n      }\n    );\n  }\n};\n\n/**\n * This handler handles adding videos to user's likes.\n * send POST Request at /api/user/likes\n * body contains {video}\n * */\n\nexport const addItemToLikedVideos = function (schema, request) {\n  const user = requiresAuth.call(this, request);\n  if (user) {\n    const { video } = JSON.parse(request.requestBody);\n    if (user.likes.some((item) => item._id === video._id)) {\n      return new Response(\n        409,\n        {},\n        {\n          errors: [\"The video is already in your liked videos\"],\n        }\n      );\n    }\n    user.likes.push(video);\n    return new Response(201, {}, { likes: user.likes });\n  }\n  return new Response(\n    404,\n    {},\n    {\n      errors: [\"The email you entered is not Registered. Not Found error\"],\n    }\n  );\n};\n\n/**\n * This handler handles removing videos from user's likes.\n * send DELETE Request at /api/user/likes/:videoId\n * */\n\nexport const removeItemFromLikedVideos = function (schema, request) {\n  const user = requiresAuth.call(this, request);\n  if (user) {\n    const videoId = request.params.videoId;\n    const filteredLikes = user.likes.filter((item) => item._id !== videoId);\n    this.db.users.update({ likes: filteredLikes });\n    return new Response(200, {}, { likes: filteredLikes });\n  }\n  return new Response(\n    404,\n    {},\n    { errors: [\"The user you request does not exist. Not Found error.\"] }\n  );\n};\n","import { Response } from \"miragejs\";\nimport { requiresAuth } from \"../utils/authUtils\";\nimport { v4 as uuid } from \"uuid\";\n\n/**\n * All the routes related to User Playlists are present here.\n * These are private routes.\n * Client needs to add \"authorization\" header with JWT token in it to access it.\n * */\n\n/**\n * This handler handles getting all user's playlists.\n * send GET Request at /api/user/playlist\n * */\nexport const getAllPlaylistsHandler = function (schema, request) {\n  const user = requiresAuth.call(this, request);\n  try {\n    if (!user) {\n      return new Response(\n        404,\n        {},\n        {\n          errors: [\"The email you entered is not Registered. Not Found error\"],\n        }\n      );\n    }\n    return new Response(200, {}, { playlists: user.playlists });\n  } catch (error) {\n    return new Response(\n      500,\n      {},\n      {\n        error,\n      }\n    );\n  }\n};\n\n/**\n * This handler handles adding playlist to user's playlists.\n * send POST Request at /api/user/playlists\n * body contains {playlist: {title: \"foo\", description:\"bar bar bar\" }}\n * */\n\nexport const addNewPlaylistHandler = function (schema, request) {\n  const user = requiresAuth.call(this, request);\n  if (user) {\n    const { playlist } = JSON.parse(request.requestBody);\n    user.playlists.push({ ...playlist, videos: [], _id: uuid() });\n    return new Response(201, {}, { playlists: user.playlists });\n  }\n  return new Response(\n    404,\n    {},\n    {\n      errors: [\"The email you entered is not Registered. Not Found error\"],\n    }\n  );\n};\n\n/**\n * This handler handles removing videos from user's playlists.\n * send DELETE Request at /api/user/playlists/:playlistId\n * */\n\nexport const removePlaylistHandler = function (schema, request) {\n  const user = requiresAuth.call(this, request);\n  if (user) {\n    const playlistId = request.params.playlistId;\n    const filteredPlaylists = user.playlists.filter(\n      (item) => item._id !== playlistId\n    );\n    this.db.users.update({ playlists: filteredPlaylists });\n    return new Response(200, {}, { playlists: filteredPlaylists });\n  }\n  return new Response(\n    404,\n    {},\n    { errors: [\"The user you request does not exist. Not Found error.\"] }\n  );\n};\n\n/**\n * This handler handles getting videos from user's playlist.\n * send GET Request at /api/user/playlists/:playlistId\n * */\n\nexport const getVideosFromPlaylistHandler = function (schema, request) {\n  const user = requiresAuth.call(this, request);\n  if (user) {\n    const playlistId = request.params.playlistId;\n    const playlist = user.playlists.find((item) => item._id !== playlistId);\n    return new Response(200, {}, { playlist });\n  }\n  return new Response(\n    404,\n    {},\n    { errors: [\"The user you request does not exist. Not Found error.\"] }\n  );\n};\n\n/**\n * This handler handles adding videos from user's playlist.\n * send POST Request at /api/user/playlists/:playlistId\n * body contains {video}\n * */\n\nexport const addVideoToPlaylistHandler = function (schema, request) {\n  const user = requiresAuth.call(this, request);\n  if (user) {\n    const playlistId = request.params.playlistId;\n    const { video } = JSON.parse(request.requestBody);\n    const playlist = user.playlists.find((item) => item._id === playlistId);\n    if (playlist.videos.some((item) => item._id === video._id)) {\n      return new Response(\n        409,\n        {},\n        {\n          errors: [\"The video is already in your playlist\"],\n        }\n      );\n    }\n    playlist.videos.push(video);\n    return new Response(201, {}, { playlist });\n  }\n  return new Response(\n    404,\n    {},\n    { errors: [\"The user you request does not exist. Not Found error.\"] }\n  );\n};\n\n/**\n * This handler handles removing videos from user's playlist.\n * send DELETE Request at /api/user/playlists/:playlistId/:videoId\n * */\n\nexport const removeVideoFromPlaylistHandler = function (schema, request) {\n  const user = requiresAuth.call(this, request);\n  if (user) {\n    const playlistId = request.params.playlistId;\n    const videoId = request.params.videoId;\n    let playlist = user.playlists.find((item) => item._id === playlistId);\n    const filteredVideos = playlist.videos.filter(\n      (item) => item._id !== videoId\n    );\n    playlist.videos = filteredVideos;\n    return new Response(200, {}, { playlist });\n  }\n  return new Response(\n    404,\n    {},\n    { errors: [\"The user you request does not exist. Not Found error.\"] }\n  );\n};\n","import { v4 as uuid } from \"uuid\";\nimport { formatDate } from \"../utils/authUtils\";\n\nexport const users = [\n  {\n    _id: uuid(),\n    fullName: \"Test\",\n    email: \"test@gmail.com\",\n    password: \"tesT@123\",\n    createdAt: formatDate(),\n    updatedAt: formatDate(),\n  },\n];\n","import { Response } from \"miragejs\";\nimport { requiresAuth } from \"../utils/authUtils\";\n\n/**\n * All the routes related to Watch Later Videos are present here.\n * These are private routes.\n * Client needs to add \"authorization\" header with JWT token in it to access it.\n * */\n\n/**\n * This handler handles getting videos from user's watchlater playlist.\n * send GET Request at /api/user/watchlater\n * */\n\nexport const getWatchLaterVideosHandler = function (schema, request) {\n  const user = requiresAuth.call(this, request);\n  try {\n    if (!user) {\n      return new Response(\n        404,\n        {},\n        {\n          errors: [\"The email you entered is not Registered. Not Found error\"],\n        }\n      );\n    }\n    return new Response(200, {}, { watchlater: user.watchlater });\n  } catch (error) {\n    return new Response(\n      500,\n      {},\n      {\n        error,\n      }\n    );\n  }\n};\n\n/**\n * This handler handles adding videos to user's watchlater playlist.\n * send POST Request at /api/user/watchlater\n * body contains {video}\n * */\n\nexport const addItemToWatchLaterVideos = function (schema, request) {\n  const user = requiresAuth.call(this, request);\n  if (user) {\n    const { video } = JSON.parse(request.requestBody);\n    if (user.watchlater.some((item) => item._id === video._id)) {\n      return new Response(\n        409,\n        {},\n        {\n          errors: [\"The video is already in your watch later videos\"],\n        }\n      );\n    }\n    user.watchlater.push(video);\n    return new Response(201, {}, { watchlater: user.watchlater });\n  }\n  return new Response(\n    404,\n    {},\n    {\n      errors: [\"The email you entered is not Registered. Not Found error\"],\n    }\n  );\n};\n\n/**\n * This handler handles removing videos from user's watchlater playlist.\n * send DELETE Request at /api/user/watchlater/:videoId\n * */\n\nexport const removeItemFromWatchLaterVideos = function (schema, request) {\n  const user = requiresAuth.call(this, request);\n  if (user) {\n    const videoId = request.params.videoId;\n    const filteredVideos = user.watchlater.filter(\n      (item) => item._id !== videoId\n    );\n    this.db.users.update({ watchlater: filteredVideos });\n    return new Response(200, {}, { watchlater: filteredVideos });\n  }\n  return new Response(\n    404,\n    {},\n    { errors: [\"The user you request does not exist. Not Found error.\"] }\n  );\n};\n","import { Server, Model, RestSerializer } from \"miragejs\";\nimport {\n  loginHandler,\n  signupHandler,\n} from \"./backend/controllers/AuthController\";\nimport {\n  getHistoryVideosHandler,\n  addVideoToHistoryHandler,\n  removeVideoFromHistoryHandler,\n  clearHistoryHandler,\n} from \"./backend/controllers/HistoryController\";\nimport {\n  getAllVideosHandler,\n  getVideoHandler,\n} from \"./backend/controllers/VideoController\";\nimport { videos } from \"./backend/db/videos\";\nimport { categories } from \"./backend/db/categories\";\nimport {\n  getAllCategoriesHandler,\n  getCategoryHandler,\n} from \"./backend/controllers/CategoryController\";\nimport {\n  getLikedVideosHandler,\n  addItemToLikedVideos,\n  removeItemFromLikedVideos,\n} from \"./backend/controllers/LikeController\";\nimport {\n  getAllPlaylistsHandler,\n  addNewPlaylistHandler,\n  removePlaylistHandler,\n  getVideosFromPlaylistHandler,\n  addVideoToPlaylistHandler,\n  removeVideoFromPlaylistHandler,\n} from \"./backend/controllers/PlaylistController\";\nimport { users } from \"./backend/db/users\";\nimport {\n  addItemToWatchLaterVideos,\n  getWatchLaterVideosHandler,\n  removeItemFromWatchLaterVideos,\n} from \"./backend/controllers/WatchLaterController\";\nexport function makeServer({ environment = \"development\" } = {}) {\n  return new Server({\n    serializers: {\n      application: RestSerializer,\n    },\n    environment,\n    // TODO: Use Relationships to have named relational Data\n    models: {\n      video: Model,\n      category: Model,\n      user: Model,\n      like: Model,\n      history: Model,\n      playlist: Model,\n      watchlater: Model,\n    },\n\n    // Runs on the start of the server\n    seeds(server) {\n      server.logging = false;\n      videos.forEach((item) => {\n        server.create(\"video\", { ...item });\n      });\n      categories.forEach((item) => server.create(\"category\", { ...item }));\n      users.forEach((item) =>\n        server.create(\"user\", {\n          ...item,\n          likes: [],\n          watchlater: [],\n          history: [],\n          playlists: [],\n        })\n      );\n    },\n\n    routes() {\n      this.namespace = \"api\";\n      // auth routes (public)\n      this.post(\"/auth/signup\", signupHandler.bind(this));\n      this.post(\"/auth/login\", loginHandler.bind(this));\n\n      // video routes (public)\n      this.get(\"/videos\", getAllVideosHandler.bind(this));\n      this.get(\"video/:videoId\", getVideoHandler.bind(this));\n\n      // TODO: POST VIDEO TO DB\n\n      // categories routes (public)\n      this.get(\"/categories\", getAllCategoriesHandler.bind(this));\n      this.get(\"/categories/:categoryId\", getCategoryHandler.bind(this));\n\n      // likes routes (private)\n      this.get(\"/user/likes\", getLikedVideosHandler.bind(this));\n      this.post(\"/user/likes\", addItemToLikedVideos.bind(this));\n      this.delete(\"/user/likes/:videoId\", removeItemFromLikedVideos.bind(this));\n\n      // watch later routes (private)\n      this.get(\"/user/watchlater\", getWatchLaterVideosHandler.bind(this));\n      this.post(\"/user/watchlater\", addItemToWatchLaterVideos.bind(this));\n      this.delete(\n        \"/user/watchlater/:videoId\",\n        removeItemFromWatchLaterVideos.bind(this)\n      );\n\n      // playlist routes (private)\n      this.get(\"/user/playlists\", getAllPlaylistsHandler.bind(this));\n      this.post(\"/user/playlists\", addNewPlaylistHandler.bind(this));\n      this.delete(\n        \"/user/playlists/:playlistId\",\n        removePlaylistHandler.bind(this)\n      );\n\n      this.get(\n        \"/user/playlists/:playlistId\",\n        getVideosFromPlaylistHandler.bind(this)\n      );\n      this.post(\n        \"/user/playlists/:playlistId\",\n        addVideoToPlaylistHandler.bind(this)\n      );\n      this.delete(\n        \"/user/playlists/:playlistId/:videoId\",\n        removeVideoFromPlaylistHandler.bind(this)\n      );\n\n      // history routes (private)\n      this.get(\"/user/history\", getHistoryVideosHandler.bind(this));\n      this.post(\"/user/history\", addVideoToHistoryHandler.bind(this));\n      this.delete(\n        \"/user/history/:videoId\",\n        removeVideoFromHistoryHandler.bind(this)\n      );\n      this.delete(\"/user/history/all\", clearHistoryHandler.bind(this));\n    },\n  });\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { makeServer } from \"./server\";\n\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nimport { GlobalProvider, AuthProvider, DataProvider } from \"./context\";\n\n// Call make Server\nmakeServer();\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <GlobalProvider>\n        <AuthProvider>\n          <DataProvider>\n            <App />\n          </DataProvider>\n        </AuthProvider>\n      </GlobalProvider>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}